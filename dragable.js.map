{"version":3,"sources":["webpack:///dragable.js","webpack:///webpack/bootstrap 45dda1b40d979e35676d","webpack:///./src/main.js","webpack:///./src/dragable.js","webpack:///./src/domApi.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","$","sel","document","querySelectorAll","randomColor","Math","round","random","getChildren","number","fragement","createDocumentFragment","i","el","createElement","className","setAttribute","style","backgroundColor","appendChild","Autoscroll","this","reqA","run","scrollTop","offsetWidth","direction","self","handle","timestamp","offsetX","documentElement","scrollLeft","body","window","scrollTo","requestAnimationFrame","_dragable","_dragable2","_domApi","lastTime","vendors","x","length","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","max","setTimeout","clearTimeout","j","l","point","startX","startY","offsetLeft","scroll","on","e","button","target","clientX","clientY","prototype","left","cb","right","stop","co","getElementsByClassName","s","d","position","clientWidth","addEventListener","blocks","parentNode","children","update","copyElm","elm","cloneNode","getBoundingClientRect","margin","top","zIndex","width","exchange","arr","idx","idx2","temp","findIndex","getOVerlayElm","source","threshold","p1","p2","overlayWidth","min","bottom","overlayHeight","overlay","minarea","height","applyDrag","container","containers","elms","undefined","push","jlength","getAttribute","k","klength","clength","sourceElm","transform","moveX","moveY","a","b","targetIdx","cot","insertBefore","nextSibling","innerHTML","getElementsByTagName","updateViews","_updateView","dragId","addClass","preventDefault","contains","removeChild","removeClass","index","trim","string","replace","hasClass","cls","indexOf","Error","classList","curClass","classes","split","clsName","add","remove","addVendor","property","value","bindEvent","event","handler","attachEvent"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,KAGAV,EAAA,KDMM,SAASI,EAAQD,EAASH,GAE/B,YAQA,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GEzBxF,QAASG,GAAGC,GACV,MAAOC,UAASC,iBAAiBF,GAQnC,QAASG,KACP,cAAeC,KAAKC,MAAsB,IAAhBD,KAAKE,UAA/B,KAAmDF,KAAKC,MAAsB,IAAhBD,KAAKE,UAAnE,KAAuFF,KAAKC,MAAsB,IAAhBD,KAAKE,UAAvG,OAEF,QAASC,GAAaC,GAEpB,IAAK,GADDC,GAAYR,SAASS,yBAChBC,EAAI,EAAGA,EAAIH,EAAQG,IAAK,CAC/B,GAAIC,GAAKX,SAASY,cAAc,MAChCD,GAAGE,UAAY,OACfF,EAAGG,aAAa,OAAQ,IACxBH,EAAGI,MAAMC,gBAAkBd,IAC3BM,EAAUS,YAAYN,GAExB,MAAOH,GA4BT,QAASU,KACPC,KAAKC,KAAO,KACZD,KAAKE,IAAM,SAAUC,EAAWC,EAAaC,GAC3C,GAAIC,GAAON,IACX,OAAO,SAASO,GAAQC,GACtB,GAAIC,GAAU5B,SAAS6B,gBAAgBC,YAAc9B,SAAS+B,KAAKD,UAC/DN,GAAY,GAAKI,EAAU5B,SAAS+B,KAAKR,YAAcA,GACzDS,OAAOC,SAASL,EAAU,EAAGN,GAC7BG,EAAKL,KAAOY,OAAOE,sBAAsBR,IAChCF,EAAY,GAAKI,EAAU,GACpCI,OAAOC,SAASL,EAAU,EAAGN,GAC7BG,EAAKL,KAAOY,OAAOE,sBAAsBR,IAEzCD,EAAKL,KAAO,OAjEpB,GAAAe,GAAApD,EAAA,GFwBKqD,EAAa1C,EAAuByC,GEvBzCE,EAAAtD,EAAA,IA3BC,WAGC,IAAK,GAFDuD,GAAW,EACXC,GAAW,SAAU,OAChBC,EAAI,EAAGA,EAAID,EAAQE,SAAWT,OAAOE,wBAAyBM,EACrER,OAAOE,sBAAwBF,OAAOO,EAAQC,GAAK,yBACnDR,OAAOU,qBAAuBV,OAAOO,EAAQC,GAAK,yBAChBR,OAAOO,EAAQC,GAAK,8BAGnDR,QAAOE,wBACVF,OAAOE,sBAAwB,SAAUS,EAAUC,GACjD,GAAIC,IAAW,GAAIC,OAAOC,UACtBC,EAAa7C,KAAK8C,IAAI,EAAG,MAAQJ,EAAWP,IAC5ClD,EAAK4C,OAAOkB,WAAW,WACzBP,EAASE,EAAWG,IACnBA,EAEH,OADAV,GAAWO,EAAWG,EACf5D,IAGN4C,OAAOU,uBACVV,OAAOU,qBAAuB,SAAUtD,GACtC+D,aAAa/D,OAYnB,KAFA,GAAIsB,GAAI,EACJ0C,EAAI,EACD1C,KAAK,CACV,GAAI2C,KAAMD,EAAI,CACdtD,GAAE,WAAWY,GAAGO,YAAYX,EAAY+C,IAiB1C,GAAIC,IACFC,OAAQ,EACRC,OAAQ,EACRC,WAAY,GAEVC,GAAS,GACb,EAAArB,EAAAsB,IAAG7D,EAAE,OAAO,GAAI,YAAa,SAAU8D,GAChCF,GAAuB,IAAbE,EAAEC,QAAgBD,EAAEE,SAAW3C,OAC5CmC,EAAMC,OAASK,EAAEG,QACjBT,EAAME,OAASI,EAAEI,QACjBV,EAAMG,WAAazD,SAAS6B,gBAAgBC,YAAc9B,SAAS+B,KAAKD,WACxE4B,GAAS,MAIb,EAAArB,EAAAsB,IAAG7D,EAAE,OAAO,GAAI,YAAa,SAAU8D,GACrC,GAAIF,EAAQ,CACV,GAAI9B,GAAU0B,EAAMC,OAASK,EAAEG,OAC/B/B,QAAOC,SAASqB,EAAMG,WAAa7B,EAAS5B,SAAS6B,gBAAgBP,WAAatB,SAAS+B,KAAKT,eAGpG,EAAAe,EAAAsB,IAAG7D,EAAE,OAAO,GAAI,UAAW,SAAU8D,GACnCF,GAAS,IAqBXxC,EAAW+C,UAAUC,KAAO,SAAUjC,EAAUV,EAAa4C,GACtDhD,KAAKC,OACRD,KAAKC,KAAOY,OAAOE,sBAAsBf,KAAKE,IAAIY,EAAUV,KAAiB4C,MAGjFjD,EAAW+C,UAAUG,MAAQ,SAAUnC,EAAUV,EAAa4C,GACvDhD,KAAKC,OACRD,KAAKC,KAAOY,OAAOE,sBAAsBf,KAAKE,IAAIY,EAAUV,EAAa,EAAG4C,MAGhFjD,EAAW+C,UAAUI,KAAO,WACtBlD,KAAKC,OACPY,OAAOU,qBAAqBvB,KAAKC,MACjCD,KAAKC,KAAO,MAIhB,IAAIkD,GAAKtE,SAASuE,uBAAuB,MAAM,GAC3CjD,EAAYtB,SAAS6B,gBAAgBP,WAAatB,SAAS+B,KAAKT,UAChEkD,EAAI,GAAItD,GACRK,EAAc+C,EAAG/C,YACjBkD,GAAI,EAAArC,cAAStC,EAAE,WAAY,SAAUgE,EAAQY,EAAUpB,GACrDoB,EAASN,MAAQpE,SAAS+B,KAAK4C,YACjCH,EAAEJ,MAAM9C,EAAWC,GACVmD,EAASR,KAAO,EACzBM,EAAEN,KAAK5C,EAAWC,GAElBiD,EAAEH,UAGN,EAAAjC,cAAStC,EAAE,OAAQ,SAAUgE,EAAQY,EAAUpB,GACzCoB,EAASN,MAAQpE,SAAS+B,KAAK4C,YACjCH,EAAEJ,MAAM9C,EAAWC,GACVmD,EAASR,KAAO,EACzBM,EAAEN,KAAK5C,EAAWC,GAElBiD,EAAEH,UAGN,EAAAhC,EAAAsB,IAAG3D,SAAU,UAAW,WACtBwE,EAAEH,SAIJrE,SAAS4E,iBAAiB,QAAS,SAAUhB,GAC3C,GAA2B,WAAvBA,EAAEE,OAAOjD,UAAwB,CACnC,GAAIgE,GAASjB,EAAEE,OAAOgB,WAAWC,SAAS,EAC1CF,GAAO5D,YAAYX,EAAY,IAC/BmE,EAAEO,aF6DA,SAAS7F,EAAQD,EAASH,GAE/B,YGvLD,SAASkG,GAASC,GAChB,GAAIvE,GAAKuE,EAAIC,WAAU,EACvBxE,GAAGI,MAAM2D,SAAW,OAGpB,IAAIA,GAAWQ,EAAIE,uBAOnB,OANAzE,GAAGI,MAAMsE,OAAS,MAClB1E,EAAGI,MAAMuE,IAAMZ,EAASY,IAAM,KAC9B3E,EAAGI,MAAMmD,KAAOQ,EAASR,KAAO,KAChCvD,EAAGI,MAAMwE,OAAS,KAClB5E,EAAGI,MAAMyE,MAAQN,EAAIP,YAAc,KACnChE,EAAGG,aAAa,aAAa,GACtBH,EAGT,QAAS8E,GAAUC,EAAKC,EAAKC,GAC3B,GAAIC,GAAOH,EAAIC,EACfD,GAAIC,GAAOD,EAAIE,GACfF,EAAIE,GAAQC,EAGd,QAASC,GAAWJ,EAAK5B,GAEvB,IADA,GAAIpD,GAAIgF,EAAIjD,OACL/B,KACL,GAAIgF,EAAIhF,KAAOoD,EACb,MAAOpD,EAGX,UAGF,QAASqF,GAAeC,EAAQlC,EAAQmC,GACtC,GAAIC,GAAKF,EAAOZ,wBACZe,EAAKrC,EAAOsB,wBACZgB,EAAgBjG,KAAKkG,IAAIH,EAAGI,OAAQH,EAAGG,QAAUnG,KAAK8C,IAAIiD,EAAGZ,IAAKa,EAAGb,KACrEiB,EAAiBpG,KAAKkG,IAAIH,EAAG9B,MAAO+B,EAAG/B,OAASjE,KAAK8C,IAAIiD,EAAGhC,KAAMiC,EAAGjC,KACzE,IAAIkC,EAAe,GAAKG,EAAgB,EAAG,CACzC,GAAIC,GAAUJ,EAAeG,EACzBE,EAAUtG,KAAKkG,IAAIH,EAAGV,MAAQU,EAAGQ,OAAQP,EAAGX,MAAQW,EAAGO,OAC3D,IAAIF,EAAUC,EAAUR,EAEtB,MAAOnC,GAGX,MAAO,MAIT,QAAS6C,GAAWC,EAAWzC,GAC7B,GAAI0C,MACAC,IACJ,IAAyBC,SAArBH,EAAUnE,OACZ,IAAK,GAAI/B,GAAI,EAAG2C,EAAIuD,EAAUnE,OAAQ/B,EAAI2C,EAAG3C,IAAK,CAChD,GAAIqE,GAAW6B,EAAUlG,GAAGqE,QAC5B8B,GAAWG,KAAKJ,EAAUlG,GAC1B,KAAK,GAAI0C,GAAI,EAAG6D,EAAUlC,EAAStC,OAAQW,EAAI6D,EAAS7D,IACb,OAArC2B,EAAS3B,GAAG8D,aAAa,SAC3BJ,EAAKE,KAAKjC,EAAS3B,QAIpB,CACLyD,EAAWG,KAAKJ,GAChB7B,EAAW6B,EAAU7B,QACrB,KAAK,GAAIoC,GAAI,EAAGC,EAAUrC,EAAStC,OAAQ0E,EAAIC,EAASD,IACb,OAArCpC,EAASoC,GAAGD,aAAa,SAC3BJ,EAAKE,KAAKjC,EAAS3B,IAIzB,GAAIX,GAASqE,EAAKrE,OACd4E,EAAUR,EAAWpE,MACzB,OAAO,UAAUyC,EAAKoC,EAAWhE,GAC/B4B,EAAInE,MAAMwG,UAAV,gBAAqCjE,EAAMkE,MAAQlE,EAAMC,QAAzD,QAAsED,EAAMmE,MAAQnE,EAAME,QAA1F,qBACA,IAAIkE,GAAIxC,EAAIE,uBACZjB,IAAMA,EAAGe,EAAKwC,EAAGpE,EAOjB,KANA,GAAI3C,GAGAgH,EAFAjH,EAAI+B,EACJW,EAAIiE,EAEJO,EAAY9B,EAAUgB,EAAMQ,GAEzBlE,KAAK,CACV,GAAIyE,GAAMhB,EAAWzD,EACrB,IAAIyE,IAAQP,EAAUxC,YACM,IAAxB+C,EAAI9C,SAAStC,QAAgBsD,EAAcb,EAAK2C,EAAI/C,WAAY,IAElE,WADA+C,GAAI5G,YAAYqG,GAIpB,KAAO5G,KAEL,GADAC,EAAKmG,EAAKpG,GACNC,IAAO2G,EAUX,GAAI3G,EAAGmE,aAAewC,EAAUxC,YAC9B,GAAIiB,EAAcb,EAAKvE,EAAI,IAQzB,YAPIiH,EAAYlH,GACdC,EAAGmE,WAAWgD,aAAaR,EAAW3G,EAAGoH,aACzCtC,EAASqB,EAAMc,EAAWlH,IACjBkH,EAAYlH,IACrBC,EAAGmE,WAAWgD,aAAaR,EAAW3G,GACtC8E,EAASqB,EAAMc,EAAWlH,SAIzB,IAAIqF,EAAcb,EAAKvE,EAAI,IAOhC,MANAgH,GAAIhH,EAAGyE,6BACHsC,EAAEpC,IAAMqC,EAAErC,IACZ3E,EAAGmE,WAAWgD,aAAaR,EAAW3G,EAAGoH,aAChCL,EAAEpB,OAASqB,EAAErB,QACtB3F,EAAGmE,WAAWgD,aAAaR,EAAW3G,KA9IhD,GAAA0B,GAAAtD,EAAA,GAEIgC,EAAQf,SAASY,cAAc,QACnCG,GAAMiH,UAAN,8VAmBAhI,SAASiI,qBAAqB,QAAQ,GAAGhH,YAAYF,EAiIrD,IAAI4E,GAAM,EAENuC,KACAC,EAAc,KAEdrE,EAAS,KAETkC,EAAS,KACT1C,GACFC,OAAQ,EACRC,OAAQ,EACRgE,MAAO,EACPC,MAAO,IAIT,EAAApF,EAAAsB,IAAG3D,SAAU,YAAa,SAAU4D,GAClC,GAAiB,IAAbA,EAAEC,QAAkD,OAAlCD,EAAEE,OAAOoD,aAAa,QAAkB,CAC5D5D,EAAMC,OAASK,EAAEG,QACjBT,EAAME,OAASI,EAAEI,OACjB,IAAIoE,GAASxE,EAAEE,OAAOgB,WAAWoC,aAAa,UAC9C,IAAeH,SAAXqB,EAAsB,MAC1BD,GAAcD,EAAYE,GAC1BlF,WAAW,WACT8C,EAASpC,EAAEE,OACXA,EAASmB,EAAQe,IACjB,EAAA3D,EAAAgG,UAASrC,EAAQ,aACjBhG,SAAS+B,KAAKd,YAAY6C,SAIhC,EAAAzB,EAAAsB,IAAG3D,SAAU,YAAa,SAAU4D,GACnB,OAAXE,IACFR,EAAMkE,MAAQ5D,EAAEG,QAChBT,EAAMmE,MAAQ7D,EAAEI,QAChBmE,EAAYrE,EAAQkC,EAAQ1C,GAC5BM,EAAE0E,qBAIN,EAAAjG,EAAAsB,IAAG3D,SAAU,UAAW,WAClB8D,IACF9D,SAAS+B,KAAKwG,SAASzE,IAAW9D,SAAS+B,KAAKyG,YAAY1E,IAC5D,EAAAzB,EAAAoG,aAAYzC,EAAQ,aACpBlC,EAAS,SAIb,EAAAzB,EAAAsB,IAAG3D,SAAU,aAAc,WACrB8D,IACF9D,SAAS+B,KAAKwG,SAASzE,IAAW9D,SAAS+B,KAAKyG,YAAY1E,IAC5D,EAAAzB,EAAAoG,aAAYzC,EAAQ,aACpBlC,EAAS,QAIb3E,EAAOD,QAAU,SAAU4H,EAAM3C,GAC/B,GAAIuE,GAAQ/C,GACZ,IAAoBoB,SAAhBD,EAAKrE,OACPqE,EAAKhG,aAAa,UAAW4H,OAE7B,KAAK,GAAIhI,GAAI,EAAG2C,EAAIyD,EAAKrE,OAAQ/B,EAAI2C,EAAG3C,IACtCoG,EAAKpG,GAAGI,aAAa,UAAW4H,EAIpC,OADAR,GAAYQ,GAAS/B,EAAUG,EAAM3C,IAEnCa,OAAQ,WACNkD,EAAYQ,GAAS/B,EAAUG,EAAM3C,OHuMrC,SAAShF,EAAQD,GAEtB,YIpaD,IAAIyJ,GAAO,SAAUC,GACnB,OAAQA,GAAU,IAAIC,QAAQ,6BAA8B,KAG1DC,EAAW,SAAUnI,EAAIoI,GAC3B,IAAKpI,IAAOoI,EAAK,OAAO,CACxB,IAAIA,EAAIC,QAAQ,UAAa,KAAM,IAAIC,OAAM,sCAC7C,OAAItI,GAAGuI,UACEvI,EAAGuI,UAAUX,SAASQ,IAErB,IAAMpI,EAAGE,UAAY,KAAKmI,QAAQ,IAAMD,EAAM,SAItDV,EAAW,SAAU1H,EAAIoI,GAC3B,GAAKpI,EAAL,CAIA,IAAK,GAHDwI,GAAWxI,EAAGE,UACduI,GAAWL,GAAO,IAAIM,MAAM,KAEvB3I,EAAI,EAAG0C,EAAIgG,EAAQ3G,OAAQ/B,EAAI0C,EAAG1C,IAAK,CAC9C,GAAI4I,GAAUF,EAAS1I,EAClB4I,KAED3I,EAAGuI,UACLvI,EAAGuI,UAAUK,IAAID,GAEZR,EAASnI,EAAI2I,KAChBH,GAAY,IAAMG,IAInB3I,EAAGuI,YACNvI,EAAGE,UAAYsI,KAIfV,EAAc,SAAU9H,EAAIoI,GAC9B,GAAKpI,GAAOoI,EAAZ,CAIA,IAAK,GAHDK,GAAUL,EAAIM,MAAM,KACpBF,EAAW,IAAMxI,EAAGE,UAAY,IAE3BH,EAAI,EAAG0C,EAAIgG,EAAQ3G,OAAQ/B,EAAI0C,EAAG1C,IAAK,CAC9C,GAAI4I,GAAUF,EAAS1I,EAClB4I,KAED3I,EAAGuI,UACLvI,EAAGuI,UAAUM,OAAOF,GAEhBR,EAASnI,EAAI2I,KACfH,EAAWA,EAASN,QAAQ,IAAMS,EAAU,IAAK,OAIlD3I,EAAGuI,YACNvI,EAAGE,UAAY8H,EAAKQ,MAIpBM,EAAY,SAAUC,EAAUC,GAClC,MAAOD,GAAW,IAAMC,GAGtBC,EAAa,WACf,MAAI5J,UAAS4E,iBACJ,SAAUhC,EAASiH,EAAOC,GAC/B,GAAIlH,GAAWiH,GAASC,EACtB,GAAuB/C,SAAnBnE,EAAQH,OACV,IAAK,GAAI/B,GAAI,EAAG2C,EAAIT,EAAQH,OAAQ/B,EAAI2C,EAAG3C,IACzCkC,EAAQlC,GAAGkE,iBAAiBiF,EAAOC,GAAS,OAG9ClH,GAAQgC,iBAAiBiF,EAAOC,GAAS,IAKxC,SAAUlH,EAASiH,EAAOC,GAC/B,GAAIlH,GAAWiH,GAASC,EACtB,GAAuB/C,SAAnBnE,EAAQH,OACV,IAAK,GAAI/B,GAAI,EAAG2C,EAAIT,EAAQH,OAAQ/B,EAAI2C,EAAG3C,IACzCkC,EAAQlC,GAAGqJ,YAAY,KAAOF,EAAOC,OAGvClH,GAAQmH,YAAY,KAAOF,EAAOC,MAO5C3K,GAAOD,SACL4J,SAAUA,EACVT,SAAUA,EACVI,YAAaA,EACbgB,YACA9F,GAAIiG","file":"dragable.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"./\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _dragable = __webpack_require__(1);\n\t\n\tvar _dragable2 = _interopRequireDefault(_dragable);\n\t\n\tvar _domApi = __webpack_require__(2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t(function () {\n\t  var lastTime = 0;\n\t  var vendors = ['webkit', 'moz'];\n\t  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n\t    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n\t    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || // Webkit中此取消方法的名字变了\n\t    window[vendors[x] + 'CancelRequestAnimationFrame'];\n\t  }\n\t\n\t  if (!window.requestAnimationFrame) {\n\t    window.requestAnimationFrame = function (callback, element) {\n\t      var currTime = new Date().getTime();\n\t      var timeToCall = Math.max(0, 16.7 - (currTime - lastTime));\n\t      var id = window.setTimeout(function () {\n\t        callback(currTime + timeToCall);\n\t      }, timeToCall);\n\t      lastTime = currTime + timeToCall;\n\t      return id;\n\t    };\n\t  }\n\t  if (!window.cancelAnimationFrame) {\n\t    window.cancelAnimationFrame = function (id) {\n\t      clearTimeout(id);\n\t    };\n\t  }\n\t})();\n\t\n\t\n\tfunction $(sel) {\n\t  return document.querySelectorAll(sel);\n\t}\n\tvar i = 7;\n\tvar j = 0;\n\twhile (i--) {\n\t  var l = ++j + 1;\n\t  $('.blocks')[i].appendChild(getChildren(l));\n\t}\n\tfunction randomColor() {\n\t  return 'rgba(' + Math.round(Math.random() * 255) + ', ' + Math.round(Math.random() * 255) + ', ' + Math.round(Math.random() * 255) + ', 1)';\n\t}\n\tfunction getChildren(number) {\n\t  var fragement = document.createDocumentFragment();\n\t  for (var i = 0; i < number; i++) {\n\t    var el = document.createElement('div');\n\t    el.className = 'drag';\n\t    el.setAttribute('drag', '');\n\t    el.style.backgroundColor = randomColor();\n\t    fragement.appendChild(el);\n\t  }\n\t  return fragement;\n\t}\n\t// container dragable\n\tvar point = {\n\t  startX: 0,\n\t  startY: 0,\n\t  offsetLeft: 0\n\t};\n\tvar scroll = false;\n\t(0, _domApi.on)($('.co')[0], 'mousedown', function (e) {\n\t  if (!scroll && e.button === 0 && e.target === this) {\n\t    point.startX = e.clientX;\n\t    point.startY = e.clientY;\n\t    point.offsetLeft = document.documentElement.scrollLeft || document.body.scrollLeft;\n\t    scroll = true;\n\t  }\n\t  return;\n\t});\n\t(0, _domApi.on)($('.co')[0], 'mousemove', function (e) {\n\t  if (scroll) {\n\t    var offsetX = point.startX - e.clientX;\n\t    window.scrollTo(point.offsetLeft + offsetX, document.documentElement.scrollTop || document.body.scrollTop);\n\t  }\n\t});\n\t(0, _domApi.on)($('.co')[0], 'mouseup', function (e) {\n\t  scroll = false;\n\t});\n\t\n\tfunction Autoscroll() {\n\t  this.reqA = null;\n\t  this.run = function (scrollTop, offsetWidth, direction) {\n\t    var self = this;\n\t    return function handle(timestamp) {\n\t      var offsetX = document.documentElement.scrollLeft || document.body.scrollLeft;\n\t      if (direction > 0 && offsetX + document.body.offsetWidth < offsetWidth) {\n\t        window.scrollTo(offsetX + 5, scrollTop);\n\t        self.reqA = window.requestAnimationFrame(handle);\n\t      } else if (direction < 0 && offsetX > 0) {\n\t        window.scrollTo(offsetX - 5, scrollTop);\n\t        self.reqA = window.requestAnimationFrame(handle);\n\t      } else {\n\t        self.reqA = null;\n\t      }\n\t    };\n\t  };\n\t}\n\tAutoscroll.prototype.left = function (scrollTo, offsetWidth, cb) {\n\t  if (!this.reqA) {\n\t    this.reqA = window.requestAnimationFrame(this.run(scrollTo, offsetWidth, -1, cb));\n\t  }\n\t};\n\tAutoscroll.prototype.right = function (scrollTo, offsetWidth, cb) {\n\t  if (!this.reqA) {\n\t    this.reqA = window.requestAnimationFrame(this.run(scrollTo, offsetWidth, 1, cb));\n\t  }\n\t};\n\tAutoscroll.prototype.stop = function () {\n\t  if (this.reqA) {\n\t    window.cancelAnimationFrame(this.reqA);\n\t    this.reqA = null;\n\t  }\n\t};\n\t\n\tvar co = document.getElementsByClassName('co')[0];\n\tvar scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n\tvar s = new Autoscroll();\n\tvar offsetWidth = co.offsetWidth;\n\tvar d = (0, _dragable2.default)($('.blocks'), function (target, position, point) {\n\t  if (position.right > document.body.clientWidth) {\n\t    s.right(scrollTop, offsetWidth);\n\t  } else if (position.left < 0) {\n\t    s.left(scrollTop, offsetWidth);\n\t  } else {\n\t    s.stop();\n\t  }\n\t});\n\t(0, _dragable2.default)($('.co'), function (target, position, point) {\n\t  if (position.right > document.body.clientWidth) {\n\t    s.right(scrollTop, offsetWidth);\n\t  } else if (position.left < 0) {\n\t    s.left(scrollTop, offsetWidth);\n\t  } else {\n\t    s.stop();\n\t  }\n\t});\n\t(0, _domApi.on)(document, 'mouseup', function () {\n\t  s.stop();\n\t});\n\t\n\t// add new one\n\tdocument.addEventListener('click', function (e) {\n\t  if (e.target.className === 'addone') {\n\t    var blocks = e.target.parentNode.children[0];\n\t    blocks.appendChild(getChildren(1));\n\t    d.update();\n\t  }\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _domApi = __webpack_require__(2);\n\t\n\t// 生成drag-mask样式\n\tvar style = document.createElement('style');\n\tstyle.innerHTML = '.drag-mask::after {\\n  content: \"\";\\n  position: absolute;\\n  top:0;\\n  left:0;\\n  width: 100%;\\n  height: 100%;\\n  background-color: #c0c6ca;\\n  user-select: none;\\n  -webkit-user-select:none;\\n  -moz-user-select: none;\\n  z-index: 9999;\\n  border-radius: 4px;\\n}\\n[drag] {\\n  position: relative;\\n  cursor: pointer;\\n  box-sizing: border-box;\\n}';\n\tdocument.getElementsByTagName('head')[0].appendChild(style);\n\t\n\tfunction copyElm(elm) {\n\t  var el = elm.cloneNode(true);\n\t  el.style.position = 'fixed';\n\t  // var offsetX = document.documentElement.scrollLeft || document.body.scrollLeft\n\t  // var offsetY = document.documentElement.scrollTop || document.body.scrollTop\n\t  var position = elm.getBoundingClientRect();\n\t  el.style.margin = '0px';\n\t  el.style.top = position.top + 'px';\n\t  el.style.left = position.left + 'px';\n\t  el.style.zIndex = 9999;\n\t  el.style.width = elm.clientWidth + 'px';\n\t  el.setAttribute('draggable', false);\n\t  return el;\n\t}\n\t\n\tfunction exchange(arr, idx, idx2) {\n\t  var temp = arr[idx];\n\t  arr[idx] = arr[idx2];\n\t  arr[idx2] = temp;\n\t}\n\t\n\tfunction findIndex(arr, target) {\n\t  var i = arr.length;\n\t  while (i--) {\n\t    if (arr[i] === target) {\n\t      return i;\n\t    }\n\t  }\n\t  return -1;\n\t}\n\t// 成功则返回target 能不能用VDOM保存起来这些数据\n\tfunction getOVerlayElm(source, target, threshold) {\n\t  var p1 = source.getBoundingClientRect();\n\t  var p2 = target.getBoundingClientRect();\n\t  var overlayWidth = Math.min(p1.bottom, p2.bottom) - Math.max(p1.top, p2.top);\n\t  var overlayHeight = Math.min(p1.right, p2.right) - Math.max(p1.left, p2.left);\n\t  if (overlayWidth > 0 && overlayHeight > 0) {\n\t    var overlay = overlayWidth * overlayHeight;\n\t    var minarea = Math.min(p1.width * p1.height, p2.width * p2.height);\n\t    if (overlay / minarea > threshold) {\n\t      // 表示target元素被souce覆盖了！\n\t      return target;\n\t    }\n\t  }\n\t  return null;\n\t}\n\t\n\t/* **********core*********** */\n\tfunction applyDrag(container, cb) {\n\t  var containers = [];\n\t  var elms = [];\n\t  if (container.length !== undefined) {\n\t    for (var i = 0, l = container.length; i < l; i++) {\n\t      var children = container[i].children;\n\t      containers.push(container[i]);\n\t      for (var j = 0, jlength = children.length; j < jlength; j++) {\n\t        if (children[j].getAttribute('drag') !== null) {\n\t          elms.push(children[j]);\n\t        }\n\t      }\n\t    }\n\t  } else {\n\t    containers.push(container);\n\t    children = container.children;\n\t    for (var k = 0, klength = children.length; k < klength; k++) {\n\t      if (children[k].getAttribute('drag') !== null) {\n\t        elms.push(children[j]);\n\t      }\n\t    }\n\t  }\n\t  var length = elms.length;\n\t  var clength = containers.length;\n\t  return function (elm, sourceElm, point) {\n\t    elm.style.transform = 'translate3d(' + (point.moveX - point.startX) + 'px, ' + (point.moveY - point.startY) + 'px, 0) rotate(5deg)';\n\t    var a = elm.getBoundingClientRect();\n\t    cb && cb(elm, a, point);\n\t    var el;\n\t    var i = length;\n\t    var j = clength;\n\t    var b;\n\t    var targetIdx = findIndex(elms, sourceElm);\n\t    // 判断它们的容器，是否与容器重合且容器为空，如果为空则添加到空容器中\n\t    while (j--) {\n\t      var cot = containers[j];\n\t      if (cot === sourceElm.parentNode) continue;\n\t      if (cot.children.length === 0 && getOVerlayElm(elm, cot.parentNode, 0.7)) {\n\t        cot.appendChild(sourceElm);\n\t        return;\n\t      }\n\t    }\n\t    while (i--) {\n\t      el = elms[i];\n\t      if (el === sourceElm) {\n\t        continue;\n\t      }\n\t      // 覆盖面积达到百分之七十的元素\n\t      // 1.如果该元素于sourceElm属于一个父容器，则\n\t      // 1.1 如果sourceElm粗线在el之前，则 insertBefore(sourceElm, el.nextSibling)\n\t      // 1.2 如果sourceElm粗线在el之后，则 insertBefore(sourceElm, el)\n\t      // 2. 如果el与sourceElm不属于同一个父容器\n\t      // 2.1 如果a.top > b.top 则 insertBefore(sourceElm, el.nextSibling)\n\t      // 2.2 如果 a.bottom < b.bottom 则 insertBefore(sourceElm, el)\n\t      if (el.parentNode === sourceElm.parentNode) {\n\t        if (getOVerlayElm(elm, el, 0.7)) {\n\t          if (targetIdx < i) {\n\t            el.parentNode.insertBefore(sourceElm, el.nextSibling);\n\t            exchange(elms, targetIdx, i);\n\t          } else if (targetIdx > i) {\n\t            el.parentNode.insertBefore(sourceElm, el);\n\t            exchange(elms, targetIdx, i);\n\t          }\n\t          return;\n\t        }\n\t      } else if (getOVerlayElm(elm, el, 0.3)) {\n\t        b = el.getBoundingClientRect();\n\t        if (a.top > b.top) {\n\t          el.parentNode.insertBefore(sourceElm, el.nextSibling);\n\t        } else if (a.bottom < b.bottom) {\n\t          el.parentNode.insertBefore(sourceElm, el);\n\t        }\n\t        return;\n\t      }\n\t    }\n\t  };\n\t}\n\t\n\t// 给每个容器打标签\n\tvar idx = 0;\n\t// 存放各个容器下的updateView方法\n\tvar updateViews = {};\n\tvar _updateView = null;\n\t// 拖动的元素，拖动的时候其实它是source创建出来的副本\n\tvar target = null;\n\t// 选中的拖动元素\n\tvar source = null;\n\tvar point = {\n\t  startX: 0,\n\t  startY: 0,\n\t  moveX: 0,\n\t  moveY: 0\n\t};\n\t// 监听全局鼠标按下事件\n\t// 如果该元素包含drag属性，则启用drag方法\n\t(0, _domApi.on)(document, 'mousedown', function (e) {\n\t  if (e.button === 0 && e.target.getAttribute('drag') !== null) {\n\t    point.startX = e.clientX;\n\t    point.startY = e.clientY;\n\t    var dragId = e.target.parentNode.getAttribute('drag-id');\n\t    if (dragId === undefined) return;\n\t    _updateView = updateViews[dragId];\n\t    setTimeout(function () {\n\t      source = e.target;\n\t      target = copyElm(source);\n\t      (0, _domApi.addClass)(source, 'drag-mask');\n\t      document.body.appendChild(target);\n\t    });\n\t  }\n\t});\n\t(0, _domApi.on)(document, 'mousemove', function (e) {\n\t  if (target !== null) {\n\t    point.moveX = e.clientX;\n\t    point.moveY = e.clientY;\n\t    _updateView(target, source, point);\n\t    e.preventDefault();\n\t  }\n\t});\n\t\n\t(0, _domApi.on)(document, 'mouseup', function () {\n\t  if (target) {\n\t    document.body.contains(target) && document.body.removeChild(target);\n\t    (0, _domApi.removeClass)(source, 'drag-mask');\n\t    target = null;\n\t  }\n\t});\n\t\n\t(0, _domApi.on)(document, 'mouseleave', function () {\n\t  if (target) {\n\t    document.body.contains(target) && document.body.removeChild(target);\n\t    (0, _domApi.removeClass)(source, 'drag-mask');\n\t    target = null;\n\t  }\n\t});\n\t\n\tmodule.exports = function (elms, cb) {\n\t  var index = idx++;\n\t  if (elms.length === undefined) {\n\t    elms.setAttribute('drag-id', index);\n\t  } else {\n\t    for (var i = 0, l = elms.length; i < l; i++) {\n\t      elms[i].setAttribute('drag-id', index);\n\t    }\n\t  }\n\t  updateViews[index] = applyDrag(elms, cb);\n\t  return {\n\t    update: function update() {\n\t      updateViews[index] = applyDrag(elms, cb);\n\t    }\n\t  };\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar trim = function trim(string) {\n\t  return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '');\n\t};\n\t\n\tvar hasClass = function hasClass(el, cls) {\n\t  if (!el || !cls) return false;\n\t  if (cls.indexOf(' ') !== -1) throw new Error('className should not contain space.');\n\t  if (el.classList) {\n\t    return el.classList.contains(cls);\n\t  } else {\n\t    return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1;\n\t  }\n\t};\n\t\n\tvar addClass = function addClass(el, cls) {\n\t  if (!el) return;\n\t  var curClass = el.className;\n\t  var classes = (cls || '').split(' ');\n\t\n\t  for (var i = 0, j = classes.length; i < j; i++) {\n\t    var clsName = classes[i];\n\t    if (!clsName) continue;\n\t\n\t    if (el.classList) {\n\t      el.classList.add(clsName);\n\t    } else {\n\t      if (!hasClass(el, clsName)) {\n\t        curClass += ' ' + clsName;\n\t      }\n\t    }\n\t  }\n\t  if (!el.classList) {\n\t    el.className = curClass;\n\t  }\n\t};\n\t\n\tvar removeClass = function removeClass(el, cls) {\n\t  if (!el || !cls) return;\n\t  var classes = cls.split(' ');\n\t  var curClass = ' ' + el.className + ' ';\n\t\n\t  for (var i = 0, j = classes.length; i < j; i++) {\n\t    var clsName = classes[i];\n\t    if (!clsName) continue;\n\t\n\t    if (el.classList) {\n\t      el.classList.remove(clsName);\n\t    } else {\n\t      if (hasClass(el, clsName)) {\n\t        curClass = curClass.replace(' ' + clsName + ' ', ' ');\n\t      }\n\t    }\n\t  }\n\t  if (!el.classList) {\n\t    el.className = trim(curClass);\n\t  }\n\t};\n\t\n\tvar addVendor = function addVendor(property, value) {\n\t  return property + ':' + value;\n\t};\n\t\n\tvar bindEvent = function () {\n\t  if (document.addEventListener) {\n\t    return function (element, event, handler) {\n\t      if (element && event && handler) {\n\t        if (element.length !== undefined) {\n\t          for (var i = 0, l = element.length; i < l; i++) {\n\t            element[i].addEventListener(event, handler, false);\n\t          }\n\t        } else {\n\t          element.addEventListener(event, handler, false);\n\t        }\n\t      }\n\t    };\n\t  } else {\n\t    return function (element, event, handler) {\n\t      if (element && event && handler) {\n\t        if (element.length !== undefined) {\n\t          for (var i = 0, l = element.length; i < l; i++) {\n\t            element[i].attachEvent('on' + event, handler);\n\t          }\n\t        } else {\n\t          element.attachEvent('on' + event, handler);\n\t        }\n\t      }\n\t    };\n\t  }\n\t}();\n\t\n\tmodule.exports = {\n\t  hasClass: hasClass,\n\t  addClass: addClass,\n\t  removeClass: removeClass,\n\t  addVendor: addVendor,\n\t  on: bindEvent\n\t};\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** dragable.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 45dda1b40d979e35676d\n **/","(function () {\n  var lastTime = 0\n  var vendors = ['webkit', 'moz']\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame']\n    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] ||    // Webkit中此取消方法的名字变了\n                                      window[vendors[x] + 'CancelRequestAnimationFrame']\n  }\n\n  if (!window.requestAnimationFrame) {\n    window.requestAnimationFrame = function (callback, element) {\n      var currTime = new Date().getTime()\n      var timeToCall = Math.max(0, 16.7 - (currTime - lastTime))\n      var id = window.setTimeout(function () {\n        callback(currTime + timeToCall)\n      }, timeToCall)\n      lastTime = currTime + timeToCall\n      return id\n    }\n  }\n  if (!window.cancelAnimationFrame) {\n    window.cancelAnimationFrame = function (id) {\n      clearTimeout(id)\n    }\n  }\n}())\nimport dragable from './dragable'\nimport { on } from './domApi'\n\nfunction $ (sel) {\n  return document.querySelectorAll(sel)\n}\nvar i = 7\nvar j = 0\nwhile (i--) {\n  var l = ++j + 1\n  $('.blocks')[i].appendChild(getChildren(l))\n}\nfunction randomColor () {\n  return `rgba(${Math.round(Math.random() * 255)}, ${Math.round(Math.random() * 255)}, ${Math.round(Math.random() * 255)}, 1)`\n}\nfunction getChildren (number) {\n  var fragement = document.createDocumentFragment()\n  for (var i = 0; i < number; i++) {\n    var el = document.createElement('div')\n    el.className = 'drag'\n    el.setAttribute('drag', '')\n    el.style.backgroundColor = randomColor()\n    fragement.appendChild(el)\n  }\n  return fragement\n}\n// container dragable\nvar point = {\n  startX: 0,\n  startY: 0,\n  offsetLeft: 0\n}\nvar scroll = false\non($('.co')[0], 'mousedown', function (e) {\n  if (!scroll && e.button === 0 && e.target === this) {\n    point.startX = e.clientX\n    point.startY = e.clientY\n    point.offsetLeft = document.documentElement.scrollLeft || document.body.scrollLeft\n    scroll = true\n  }\n  return\n})\non($('.co')[0], 'mousemove', function (e) {\n  if (scroll) {\n    var offsetX = point.startX - e.clientX\n    window.scrollTo(point.offsetLeft + offsetX, document.documentElement.scrollTop || document.body.scrollTop)\n  }\n})\non($('.co')[0], 'mouseup', function (e) {\n  scroll = false\n})\n\nfunction Autoscroll () {\n  this.reqA = null\n  this.run = function (scrollTop, offsetWidth, direction) {\n    var self = this\n    return function handle (timestamp) {\n      var offsetX = document.documentElement.scrollLeft || document.body.scrollLeft\n      if (direction > 0 && offsetX + document.body.offsetWidth < offsetWidth) {\n        window.scrollTo(offsetX + 5, scrollTop)\n        self.reqA = window.requestAnimationFrame(handle)\n      } else if (direction < 0 && offsetX > 0) {\n        window.scrollTo(offsetX - 5, scrollTop)\n        self.reqA = window.requestAnimationFrame(handle)\n      } else {\n        self.reqA = null\n      }\n    }\n  }\n}\nAutoscroll.prototype.left = function (scrollTo, offsetWidth, cb) {\n  if (!this.reqA) {\n    this.reqA = window.requestAnimationFrame(this.run(scrollTo, offsetWidth, -1, cb))\n  }\n}\nAutoscroll.prototype.right = function (scrollTo, offsetWidth, cb) {\n  if (!this.reqA) {\n    this.reqA = window.requestAnimationFrame(this.run(scrollTo, offsetWidth, 1, cb))\n  }\n}\nAutoscroll.prototype.stop = function () {\n  if (this.reqA) {\n    window.cancelAnimationFrame(this.reqA)\n    this.reqA = null\n  }\n}\n\nvar co = document.getElementsByClassName('co')[0]\nvar scrollTop = document.documentElement.scrollTop || document.body.scrollTop\nvar s = new Autoscroll()\nvar offsetWidth = co.offsetWidth\nvar d = dragable($('.blocks'), function (target, position, point) {\n  if (position.right > document.body.clientWidth) {\n    s.right(scrollTop, offsetWidth)\n  } else if (position.left < 0) {\n    s.left(scrollTop, offsetWidth)\n  } else {\n    s.stop()\n  }\n})\ndragable($('.co'), function (target, position, point) {\n  if (position.right > document.body.clientWidth) {\n    s.right(scrollTop, offsetWidth)\n  } else if (position.left < 0) {\n    s.left(scrollTop, offsetWidth)\n  } else {\n    s.stop()\n  }\n})\non(document, 'mouseup', function () {\n  s.stop()\n})\n\n// add new one\ndocument.addEventListener('click', function (e) {\n  if (e.target.className === 'addone') {\n    var blocks = e.target.parentNode.children[0]\n    blocks.appendChild(getChildren(1))\n    d.update()\n  }\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","import { on, addClass, removeClass } from './domApi'\n// 生成drag-mask样式\nvar style = document.createElement('style')\nstyle.innerHTML = `.drag-mask::after {\n  content: \"\";\n  position: absolute;\n  top:0;\n  left:0;\n  width: 100%;\n  height: 100%;\n  background-color: #c0c6ca;\n  user-select: none;\n  -webkit-user-select:none;\n  -moz-user-select: none;\n  z-index: 9999;\n  border-radius: 4px;\n}\n[drag] {\n  position: relative;\n  cursor: pointer;\n  box-sizing: border-box;\n}`\ndocument.getElementsByTagName('head')[0].appendChild(style)\n\nfunction copyElm (elm) {\n  var el = elm.cloneNode(true)\n  el.style.position = 'fixed'\n  // var offsetX = document.documentElement.scrollLeft || document.body.scrollLeft\n  // var offsetY = document.documentElement.scrollTop || document.body.scrollTop\n  var position = elm.getBoundingClientRect()\n  el.style.margin = '0px'\n  el.style.top = position.top + 'px'\n  el.style.left = position.left + 'px'\n  el.style.zIndex = 9999\n  el.style.width = elm.clientWidth + 'px'\n  el.setAttribute('draggable', false)\n  return el\n}\n\nfunction exchange (arr, idx, idx2) {\n  var temp = arr[idx]\n  arr[idx] = arr[idx2]\n  arr[idx2] = temp\n}\n\nfunction findIndex (arr, target) {\n  var i = arr.length\n  while (i--) {\n    if (arr[i] === target) {\n      return i\n    }\n  }\n  return -1\n}\n// 成功则返回target 能不能用VDOM保存起来这些数据\nfunction getOVerlayElm (source, target, threshold) {\n  var p1 = source.getBoundingClientRect()\n  var p2 = target.getBoundingClientRect()\n  var overlayWidth = (Math.min(p1.bottom, p2.bottom) - Math.max(p1.top, p2.top))\n  var overlayHeight = (Math.min(p1.right, p2.right) - Math.max(p1.left, p2.left))\n  if (overlayWidth > 0 && overlayHeight > 0) {\n    var overlay = overlayWidth * overlayHeight\n    var minarea = Math.min(p1.width * p1.height, p2.width * p2.height)\n    if (overlay / minarea > threshold) {\n      // 表示target元素被souce覆盖了！\n      return target\n    }\n  }\n  return null\n}\n\n/* **********core*********** */\nfunction applyDrag (container, cb) {\n  var containers = []\n  var elms = []\n  if (container.length !== undefined) {\n    for (var i = 0, l = container.length; i < l; i++) {\n      var children = container[i].children\n      containers.push(container[i])\n      for (var j = 0, jlength = children.length; j < jlength; j++) {\n        if (children[j].getAttribute('drag') !== null) {\n          elms.push(children[j])\n        }\n      }\n    }\n  } else {\n    containers.push(container)\n    children = container.children\n    for (var k = 0, klength = children.length; k < klength; k++) {\n      if (children[k].getAttribute('drag') !== null) {\n        elms.push(children[j])\n      }\n    }\n  }\n  var length = elms.length\n  var clength = containers.length\n  return function (elm, sourceElm, point) {\n    elm.style.transform = `translate3d(${point.moveX - point.startX}px, ${point.moveY - point.startY}px, 0) rotate(5deg)`\n    var a = elm.getBoundingClientRect()\n    cb && cb(elm, a, point)\n    var el\n    var i = length\n    var j = clength\n    var b\n    var targetIdx = findIndex(elms, sourceElm)\n    // 判断它们的容器，是否与容器重合且容器为空，如果为空则添加到空容器中\n    while (j--) {\n      var cot = containers[j]\n      if (cot === sourceElm.parentNode) continue\n      if (cot.children.length === 0 && getOVerlayElm(elm, cot.parentNode, 0.7)) {\n        cot.appendChild(sourceElm)\n        return\n      }\n    }\n    while (i--) {\n      el = elms[i]\n      if (el === sourceElm) {\n        continue\n      }\n        // 覆盖面积达到百分之七十的元素\n        // 1.如果该元素于sourceElm属于一个父容器，则\n        // 1.1 如果sourceElm粗线在el之前，则 insertBefore(sourceElm, el.nextSibling)\n        // 1.2 如果sourceElm粗线在el之后，则 insertBefore(sourceElm, el)\n        // 2. 如果el与sourceElm不属于同一个父容器\n        // 2.1 如果a.top > b.top 则 insertBefore(sourceElm, el.nextSibling)\n        // 2.2 如果 a.bottom < b.bottom 则 insertBefore(sourceElm, el)\n      if (el.parentNode === sourceElm.parentNode) {\n        if (getOVerlayElm(elm, el, 0.7)) {\n          if (targetIdx < i) {\n            el.parentNode.insertBefore(sourceElm, el.nextSibling)\n            exchange(elms, targetIdx, i)\n          } else if (targetIdx > i) {\n            el.parentNode.insertBefore(sourceElm, el)\n            exchange(elms, targetIdx, i)\n          }\n          return\n        }\n      } else if (getOVerlayElm(elm, el, 0.3)) {\n        b = el.getBoundingClientRect()\n        if (a.top > b.top) {\n          el.parentNode.insertBefore(sourceElm, el.nextSibling)\n        } else if (a.bottom < b.bottom) {\n          el.parentNode.insertBefore(sourceElm, el)\n        }\n        return\n      }\n    }\n  }\n}\n\n// 给每个容器打标签\nvar idx = 0\n// 存放各个容器下的updateView方法\nvar updateViews = {}\nvar _updateView = null\n// 拖动的元素，拖动的时候其实它是source创建出来的副本\nvar target = null\n// 选中的拖动元素\nvar source = null\nvar point = {\n  startX: 0,\n  startY: 0,\n  moveX: 0,\n  moveY: 0\n}\n// 监听全局鼠标按下事件\n// 如果该元素包含drag属性，则启用drag方法\non(document, 'mousedown', function (e) {\n  if (e.button === 0 && e.target.getAttribute('drag') !== null) {\n    point.startX = e.clientX\n    point.startY = e.clientY\n    var dragId = e.target.parentNode.getAttribute('drag-id')\n    if (dragId === undefined) return\n    _updateView = updateViews[dragId]\n    setTimeout(function () {\n      source = e.target\n      target = copyElm(source)\n      addClass(source, 'drag-mask')\n      document.body.appendChild(target)\n    })\n  }\n})\non(document, 'mousemove', function (e) {\n  if (target !== null) {\n    point.moveX = e.clientX\n    point.moveY = e.clientY\n    _updateView(target, source, point)\n    e.preventDefault()\n  }\n})\n\non(document, 'mouseup', function () {\n  if (target) {\n    document.body.contains(target) && document.body.removeChild(target)\n    removeClass(source, 'drag-mask')\n    target = null\n  }\n})\n\non(document, 'mouseleave', function () {\n  if (target) {\n    document.body.contains(target) && document.body.removeChild(target)\n    removeClass(source, 'drag-mask')\n    target = null\n  }\n})\n\nmodule.exports = function (elms, cb) {\n  var index = idx++\n  if (elms.length === undefined) {\n    elms.setAttribute('drag-id', index)\n  } else {\n    for (var i = 0, l = elms.length; i < l; i++) {\n      elms[i].setAttribute('drag-id', index)\n    }\n  }\n  updateViews[index] = applyDrag(elms, cb)\n  return {\n    update: function () {\n      updateViews[index] = applyDrag(elms, cb)\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dragable.js\n **/","var trim = function (string) {\n  return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '')\n}\n\nvar hasClass = function (el, cls) {\n  if (!el || !cls) return false\n  if (cls.indexOf(' ') !== -1) throw new Error('className should not contain space.')\n  if (el.classList) {\n    return el.classList.contains(cls)\n  } else {\n    return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1\n  }\n}\n\nvar addClass = function (el, cls) {\n  if (!el) return\n  var curClass = el.className\n  var classes = (cls || '').split(' ')\n\n  for (var i = 0, j = classes.length; i < j; i++) {\n    var clsName = classes[ i ]\n    if (!clsName) continue\n\n    if (el.classList) {\n      el.classList.add(clsName)\n    } else {\n      if (!hasClass(el, clsName)) {\n        curClass += ' ' + clsName\n      }\n    }\n  }\n  if (!el.classList) {\n    el.className = curClass\n  }\n}\n\nvar removeClass = function (el, cls) {\n  if (!el || !cls) return\n  var classes = cls.split(' ')\n  var curClass = ' ' + el.className + ' '\n\n  for (var i = 0, j = classes.length; i < j; i++) {\n    var clsName = classes[ i ]\n    if (!clsName) continue\n\n    if (el.classList) {\n      el.classList.remove(clsName)\n    } else {\n      if (hasClass(el, clsName)) {\n        curClass = curClass.replace(' ' + clsName + ' ', ' ')\n      }\n    }\n  }\n  if (!el.classList) {\n    el.className = trim(curClass)\n  }\n}\n\nvar addVendor = function (property, value) {\n  return property + ':' + value\n}\n\nvar bindEvent = (function () {\n  if (document.addEventListener) {\n    return function (element, event, handler) {\n      if (element && event && handler) {\n        if (element.length !== undefined) {\n          for (var i = 0, l = element.length; i < l; i++) {\n            element[i].addEventListener(event, handler, false)\n          }\n        } else {\n          element.addEventListener(event, handler, false)\n        }\n      }\n    }\n  } else {\n    return function (element, event, handler) {\n      if (element && event && handler) {\n        if (element.length !== undefined) {\n          for (var i = 0, l = element.length; i < l; i++) {\n            element[i].attachEvent('on' + event, handler)\n          }\n        } else {\n          element.attachEvent('on' + event, handler)\n        }\n      }\n    }\n  }\n})()\n\nmodule.exports = {\n  hasClass: hasClass,\n  addClass: addClass,\n  removeClass: removeClass,\n  addVendor,\n  on: bindEvent\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/domApi.js\n **/"],"sourceRoot":""}