!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.dragable=e():t.dragable=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="/",e(0)}([function(t,e,n){"use strict";function r(t,e){var n=0;if(n=void 0!==e?e:p++,void 0===t.length)t.setAttribute("drag-id",n);else for(var o=0,i=t.length;o<i;o++)t[o].setAttribute("drag-id",n);return v[n]=l(t),{update:function(){r(t,n)}}}function o(t){if(0===t.button&&null!==t.target.getAttribute("drag")||0===t.button&&null!==t.target.getAttribute("drag-el")){var e,n;if(null!==t.target.getAttribute("drag")){if(e=t.target.parentNode.getAttribute("drag-id"),void 0===e)return;n=t.target}else if(null!==t.target.getAttribute("drag-el")){if(e=t.target.parentNode.parentNode.getAttribute("drag-id"),void 0===e)return;n=t.target.parentNode}N.startX=t.clientX,N.startY=t.clientY,m=v[e]||function(){},b=n}}function i(t){var e=Math.abs(t.clientX-N.startX),n=Math.abs(t.clientY-N.startY);null===h&&null!==b&&(e>3||n>3)&&(N.startX=t.clientX,N.startY=t.clientY,setTimeout(function(){h=s(b),(0,f.addClass)(b,"drag-mask"),document.body.appendChild(h)})),null!==h&&(N.moveX=t.clientX,N.moveY=t.clientY,m(h,b,N),x&&x(h,N))}function a(t){(h||b)&&(document.body.contains(h)&&document.body.removeChild(h),(0,f.removeClass)(b,"drag-mask"),h=null,b=null)}function l(t){var e=[],n=[];if(void 0!==t.length)for(var r=0,o=t.length;r<o;r++){var i=t[r].children;e.push(t[r]);for(var a=0,l=i.length;a<l;a++)null!==i[a].getAttribute("drag")&&n.push(i[a])}else{e.push(t),i=t.children;for(var s=0,f=i.length;s<f;s++)null!==i[s].getAttribute("drag")&&n.push(i[s])}var g=n.length,p=e.length;return function(t,r,o){t.style.transform="translate3d("+(o.moveX-o.startX)+"px, "+(o.moveY-o.startY)+"px, 0) rotate(5deg)";for(var i,a,l=t.getBoundingClientRect(),s=g,f=p,v=d(n,r);f--;){var m=e[f];if(m!==r.parentNode&&0===m.children.length&&c(t,m.parentNode,.7))return void m.appendChild(r)}for(;s--;)if(i=n[s],i!==r)if(i.parentNode===r.parentNode){if(c(t,i,.7))return void(v<s?(i.parentNode.insertBefore(r,i.nextSibling),u(n,v,s)):v>s&&(i.parentNode.insertBefore(r,i),u(n,v,s)))}else if(c(t,i,.5))return a=i.getBoundingClientRect(),void(l.top>a.top?i.parentNode.insertBefore(r,i.nextSibling):l.bottom<a.bottom&&i.parentNode.insertBefore(r,i))}}function s(t){var e=t.cloneNode(!0);e.style.position="fixed";var n=t.getBoundingClientRect();return e.style.margin="0px",e.style.top=n.top+"px",e.style.left=n.left+"px",e.style.zIndex=9999,e.style.width=t.clientWidth+"px",e}function u(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function d(t,e){for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function c(t,e,n){var r=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=Math.min(r.bottom,o.bottom)-Math.max(r.top,o.top),a=Math.min(r.right,o.right)-Math.max(r.left,o.left);if(i>0&&a>0){var l=i*a,s=Math.min(r.width*r.height,o.width*o.height);if(l/s>n)return e}return null}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var f=n(1),g=document.createElement("style");g.innerHTML='.drag-mask::after {\n  content: "";\n  position: absolute;\n  top:0;\n  left:0;\n  width: 100%;\n  height: 100%;\n  background-color: #c0c6ca;\n  user-select: none;\n  -webkit-user-select:none;\n  -moz-user-select: none;\n  z-index: 9999;\n  border-radius: 4px;\n}\n[drag] {\n  position: relative;\n  cursor: pointer;\n  user-select: none;\n  -webkit-user-select:none;\n  -moz-user-select: none;\n  box-sizing: border-box;\n}',document.getElementsByTagName("head")[0].appendChild(g);var p=0,v={},m=null,h=null,b=null,x=null,N={startX:0,startY:0,moveX:0,moveY:0};(0,f.on)(document,"mousedown",o),(0,f.on)(document,"mousemove",i),(0,f.on)(document,"mouseup",a),(0,f.on)(document,"mouseleave",a),r.onmove=function(t){x=t},t.exports=r},function(t,e){"use strict";var n=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},r=function(t,e){if(!t||!e)return!1;if(e.indexOf(" ")!==-1)throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1},o=function(t,e){if(t){for(var n=t.className,o=(e||"").split(" "),i=0,a=o.length;i<a;i++){var l=o[i];l&&(t.classList?t.classList.add(l):r(t,l)||(n+=" "+l))}t.classList||(t.className=n)}},i=function(t,e){if(t&&e){for(var o=e.split(" "),i=" "+t.className+" ",a=0,l=o.length;a<l;a++){var s=o[a];s&&(t.classList?t.classList.remove(s):r(t,s)&&(i=i.replace(" "+s+" "," ")))}t.classList||(t.className=n(i))}},a=function(t,e){return t+":"+e},l=function(){return document.addEventListener?function(t,e,n){if(t&&e&&n)if(void 0!==t.length)for(var r=0,o=t.length;r<o;r++)t[r].addEventListener(e,n,!1);else t.addEventListener(e,n,!1)}:function(t,e,n){if(t&&e&&n)if(void 0!==t.length)for(var r=0,o=t.length;r<o;r++)t[r].attachEvent("on"+e,n);else t.attachEvent("on"+e,n)}}();t.exports={hasClass:r,addClass:o,removeClass:i,addVendor:a,on:l}}])});