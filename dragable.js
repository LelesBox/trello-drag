!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="./",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t){return document.querySelectorAll(t)}function i(){return"rgba("+Math.round(255*Math.random())+", "+Math.round(255*Math.random())+", "+Math.round(255*Math.random())+", 1)"}function a(t){for(var e=document.createDocumentFragment(),n=0;n<t;n++){var o=document.createElement("div");o.className="drag",o.setAttribute("drag",""),o.style.backgroundColor=i(),e.appendChild(o)}return e}function s(){this.reqA=null,this.increase=5,this.run=function(t,e,n){var o=this;return function r(i){var a=document.documentElement.scrollLeft||document.body.scrollLeft;n>0&&a+document.body.offsetWidth<e?(window.scrollTo(a+o.increase,t),o.reqA=window.requestAnimationFrame(r)):n<0&&a>0?(window.scrollTo(a-o.increase,t),o.reqA=window.requestAnimationFrame(r)):o.reqA=null}}}var l=n(1),u=o(l),d=n(2);!function(){for(var t=0,e=["webkit","moz"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var o=(new Date).getTime(),r=Math.max(0,16.7-(o-t)),i=window.setTimeout(function(){e(o+r)},r);return t=o+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();for(var c=0,f=0,m=10;f<m;f++){var h=++c+1;r(".blocks")[f].appendChild(a(h))}var g={startX:0,startY:0,offsetLeft:0},p=!1;(0,d.on)(r(".co")[0],"mousedown",function(t){p||0!==t.button||t.target!==this||(g.startX=t.clientX,g.startY=t.clientY,g.offsetLeft=document.documentElement.scrollLeft||document.body.scrollLeft,p=!0)}),(0,d.on)(r(".co")[0],"mousemove",function(t){if(p){var e=g.startX-t.clientX;window.scrollTo(g.offsetLeft+e,document.documentElement.scrollTop||document.body.scrollTop)}}),(0,d.on)(r(".co")[0],"mouseup",function(t){p=!1}),(0,d.on)(r(".co")[0],"mouseleave",function(t){p=!1}),s.prototype.left=function(t,e,n){n&&(this.increase=n),this.reqA||(this.reqA=window.requestAnimationFrame(this.run(t,e,-1)))},s.prototype.right=function(t,e,n){n&&(this.increase=n),this.reqA||(this.reqA=window.requestAnimationFrame(this.run(t,e,1)))},s.prototype.stop=function(){this.reqA&&(window.cancelAnimationFrame(this.reqA),this.increase=5,this.reqA=null)};var v=document.getElementsByClassName("co")[0],w=document.documentElement.scrollTop||document.body.scrollTop,b=new s,A=v.offsetWidth,x=(0,u["default"])(r(".blocks"));(0,u["default"])(r(".co"),".sel"),u["default"].onmove(function(t,e){var n=t.getBoundingClientRect(),o=n.right-document.body.clientWidth,r=5;o>0?(o>60?r=20:o>30&&(r=10),b.right(w,A,r)):n.left<0?(n.left<-60?r=20:n.left<-30&&(r=10),b.left(w,A,r)):b.stop()}),(0,d.on)(document,"mouseup",function(){b.stop()}),document.addEventListener("click",function(t){if("addone"===t.target.className){var e=t.target.parentNode.children[0];e.appendChild(a(1)),x.update()}})},function(t,e,n){"use strict";function o(t,e){var n=0;if(n=void 0!==e?e:h++,void 0===t.length)t.setAttribute("drag-id",n);else for(var r=0,i=t.length;r<i;r++)t[r].setAttribute("drag-id",n);return g[n]=s(t),{update:function(){o(t,n)}}}function r(t){if(0===t.button&&null!==t.target.getAttribute("drag")||0===t.button&&null!==t.target.getAttribute("drag-el")){var e,n;if(null!==t.target.getAttribute("drag")){if(e=t.target.parentNode.getAttribute("drag-id"),void 0===e)return;n=t.target}else if(null!==t.target.getAttribute("drag-el")){if(e=t.target.parentNode.parentNode.getAttribute("drag-id"),void 0===e)return;n=t.target.parentNode}A.startX=t.clientX,A.startY=t.clientY,p=g[e]||function(){},w=n}}function i(t){var e=Math.abs(t.clientX-A.startX),n=Math.abs(t.clientY-A.startY);null===v&&null!==w&&(e>3||n>3)&&(A.startX=t.clientX,A.startY=t.clientY,setTimeout(function(){v=l(w),(0,f.addClass)(w,"drag-mask"),document.body.appendChild(v)})),null!==v&&(A.moveX=t.clientX,A.moveY=t.clientY,p(v,w,A),b&&b(v,A))}function a(t){(v||w)&&(document.body.contains(v)&&document.body.removeChild(v),(0,f.removeClass)(w,"drag-mask"),v=null,w=null)}function s(t){var e=[],n=[];if(void 0!==t.length)for(var o=0,r=t.length;o<r;o++){var i=t[o].children;e.push(t[o]);for(var a=0,s=i.length;a<s;a++)null!==i[a].getAttribute("drag")&&n.push(i[a])}else{e.push(t),i=t.children;for(var l=0,f=i.length;l<f;l++)null!==i[l].getAttribute("drag")&&n.push(i[l])}var m=n.length,h=e.length;return function(t,o,r){t.style.transform="translate3d("+(r.moveX-r.startX)+"px, "+(r.moveY-r.startY)+"px, 0) rotate(5deg)";for(var i,a,s=t.getBoundingClientRect(),l=m,f=h,g=d(n,o);f--;){var p=e[f];if(p!==o.parentNode&&0===p.children.length&&c(t,p.parentNode,.7))return void p.appendChild(o)}for(;l--;)if(i=n[l],i!==o)if(i.parentNode===o.parentNode){if(c(t,i,.7))return void(g<l?(i.parentNode.insertBefore(o,i.nextSibling),u(n,g,l)):g>l&&(i.parentNode.insertBefore(o,i),u(n,g,l)))}else if(c(t,i,.5))return a=i.getBoundingClientRect(),void(s.top>a.top?i.parentNode.insertBefore(o,i.nextSibling):s.bottom<a.bottom&&i.parentNode.insertBefore(o,i))}}function l(t){var e=t.cloneNode(!0);e.style.position="fixed";var n=t.getBoundingClientRect();return e.style.margin="0px",e.style.top=n.top+"px",e.style.left=n.left+"px",e.style.zIndex=9999,e.style.width=t.clientWidth+"px",e}function u(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function d(t,e){for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function c(t,e,n){var o=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=Math.min(o.bottom,r.bottom)-Math.max(o.top,r.top),a=Math.min(o.right,r.right)-Math.max(o.left,r.left);if(i>0&&a>0){var s=i*a,l=Math.min(o.width*o.height,r.width*r.height);if(s/l>n)return e}return null}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var f=n(2),m=document.createElement("style");m.innerHTML='.drag-mask::after {\n  content: "";\n  position: absolute;\n  top:0;\n  left:0;\n  width: 100%;\n  height: 100%;\n  background-color: #c0c6ca;\n  user-select: none;\n  -webkit-user-select:none;\n  -moz-user-select: none;\n  z-index: 9999;\n  border-radius: 4px;\n}\n[drag] {\n  position: relative;\n  cursor: pointer;\n  user-select: none;\n  -webkit-user-select:none;\n  -moz-user-select: none;\n  box-sizing: border-box;\n}',document.getElementsByTagName("head")[0].appendChild(m);var h=0,g={},p=null,v=null,w=null,b=null,A={startX:0,startY:0,moveX:0,moveY:0};(0,f.on)(document,"mousedown",r),(0,f.on)(document,"mousemove",i),(0,f.on)(document,"mouseup",a),(0,f.on)(document,"mouseleave",a),o.onmove=function(t){b=t},t.exports=o},function(t,e){"use strict";var n=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},o=function(t,e){if(!t||!e)return!1;if(e.indexOf(" ")!==-1)throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1},r=function(t,e){if(t){for(var n=t.className,r=(e||"").split(" "),i=0,a=r.length;i<a;i++){var s=r[i];s&&(t.classList?t.classList.add(s):o(t,s)||(n+=" "+s))}t.classList||(t.className=n)}},i=function(t,e){if(t&&e){for(var r=e.split(" "),i=" "+t.className+" ",a=0,s=r.length;a<s;a++){var l=r[a];l&&(t.classList?t.classList.remove(l):o(t,l)&&(i=i.replace(" "+l+" "," ")))}t.classList||(t.className=n(i))}},a=function(t,e){return t+":"+e},s=function(){return document.addEventListener?function(t,e,n){if(t&&e&&n)if(void 0!==t.length)for(var o=0,r=t.length;o<r;o++)t[o].addEventListener(e,n,!1);else t.addEventListener(e,n,!1)}:function(t,e,n){if(t&&e&&n)if(void 0!==t.length)for(var o=0,r=t.length;o<r;o++)t[o].attachEvent("on"+e,n);else t.attachEvent("on"+e,n)}}();t.exports={hasClass:o,addClass:r,removeClass:i,addVendor:a,on:s}}]);
//# sourceMappingURL=dragable.js.map