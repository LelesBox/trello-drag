!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="./",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){return document.querySelectorAll(e)}function i(){return"rgba("+Math.round(255*Math.random())+", "+Math.round(255*Math.random())+", "+Math.round(255*Math.random())+", 1)"}function a(e){for(var t=document.createDocumentFragment(),n=0;n<e;n++){var o=document.createElement("div");o.className="drag",o.setAttribute("drag",""),o.style.backgroundColor=i(),t.appendChild(o)}return t}function s(){this.reqA=null,this.increase=5,this.run=function(e,t,n){var o=this;return function r(i){var a=document.documentElement.scrollLeft||document.body.scrollLeft;n>0&&a+document.body.offsetWidth<t?(window.scrollTo(a+o.increase,e),o.reqA=window.requestAnimationFrame(r)):n<0&&a>0?(window.scrollTo(a-o.increase,e),o.reqA=window.requestAnimationFrame(r)):o.reqA=null}}}var u=n(1),l=o(u),c=n(2);!function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var o=(new Date).getTime(),r=Math.max(0,16.7-(o-e)),i=window.setTimeout(function(){t(o+r)},r);return e=o+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();for(var d=0,m=0,f=10;m<f;m++){var h=++d+1;r(".blocks")[m].appendChild(a(h))}var p={startX:0,startY:0,offsetLeft:0},v=!1;(0,c.on)(r(".co")[0],"mousedown",function(e){v||0!==e.button||e.target!==this||(p.startX=e.clientX,p.startY=e.clientY,p.offsetLeft=document.documentElement.scrollLeft||document.body.scrollLeft,v=!0)}),(0,c.on)(r(".co")[0],"mousemove",function(e){if(v){var t=p.startX-e.clientX;window.scrollTo(p.offsetLeft+t,document.documentElement.scrollTop||document.body.scrollTop)}}),(0,c.on)(r(".co")[0],"mouseup",function(e){v=!1}),(0,c.on)(r(".co")[0],"mouseleave",function(e){v=!1}),s.prototype.left=function(e,t,n){n&&(this.increase=n),this.reqA||(this.reqA=window.requestAnimationFrame(this.run(e,t,-1)))},s.prototype.right=function(e,t,n){n&&(this.increase=n),this.reqA||(this.reqA=window.requestAnimationFrame(this.run(e,t,1)))},s.prototype.stop=function(){this.reqA&&(window.cancelAnimationFrame(this.reqA),this.increase=5,this.reqA=null)};var g=document.getElementsByClassName("co")[0],w=document.documentElement.scrollTop||document.body.scrollTop,b=new s,A=g.offsetWidth,x=(0,l["default"])(r(".blocks"));(0,l["default"])(r(".co")),l["default"].onmove(function(e,t){var n=e.getBoundingClientRect(),o=n.right-document.body.clientWidth,r=5;o>0?(o>60?r=20:o>30&&(r=10),b.right(w,A,r)):n.left<0?(n.left<-60?r=20:n.left<-30&&(r=10),b.left(w,A,r)):b.stop()}),(0,c.on)(document,"mouseup",function(){b.stop()}),document.addEventListener("click",function(e){if("addone"===e.target.className){var t=e.target.parentNode.children[0];t.appendChild(a(1)),x.update()}})},function(e,t,n){"use strict";function o(e,t){var n=h++;if(void 0===e.length)e.setAttribute("drag-id",n);else for(var o=0,r=e.length;o<r;o++)e[o].setAttribute("drag-id",n);return p[n]=s(e,t),{update:function(){p[n]=s(e,t)}}}function r(e){if(0===e.button&&null!==e.target.getAttribute("drag")){A.startX=e.clientX,A.startY=e.clientY;var t=e.target.parentNode.getAttribute("drag-id");if(void 0===t)return;v=p[t]||function(){},setTimeout(function(){w=e.target,g=u(w),(0,m.addClass)(w,"drag-mask"),document.body.appendChild(g)})}}function i(e){null!==g&&(A.moveX=e.clientX,A.moveY=e.clientY,v(g,w,A),b&&b(g,A))}function a(e){g&&(document.body.contains(g)&&document.body.removeChild(g),(0,m.removeClass)(w,"drag-mask"),g=null)}function s(e,t){var n=[],o=[];if(void 0!==e.length)for(var r=0,i=e.length;r<i;r++){var a=e[r].children;n.push(e[r]);for(var s=0,u=a.length;s<u;s++)null!==a[s].getAttribute("drag")&&o.push(a[s])}else{n.push(e),a=e.children;for(var m=0,f=a.length;m<f;m++)null!==a[m].getAttribute("drag")&&o.push(a[m])}var h=o.length,p=n.length;return function(e,r,i){e.style.transform="translate3d("+(i.moveX-i.startX)+"px, "+(i.moveY-i.startY)+"px, 0) rotate(5deg)";var a=e.getBoundingClientRect();t&&t(e,a,i);for(var s,u,m=h,f=p,v=c(o,r);f--;){var g=n[f];if(g!==r.parentNode&&0===g.children.length&&d(e,g.parentNode,.7))return void g.appendChild(r)}for(;m--;)if(s=o[m],s!==r)if(s.parentNode===r.parentNode){if(d(e,s,.7))return void(v<m?(s.parentNode.insertBefore(r,s.nextSibling),l(o,v,m)):v>m&&(s.parentNode.insertBefore(r,s),l(o,v,m)))}else if(d(e,s,.3))return u=s.getBoundingClientRect(),void(a.top>u.top?s.parentNode.insertBefore(r,s.nextSibling):a.bottom<u.bottom&&s.parentNode.insertBefore(r,s))}}function u(e){var t=e.cloneNode(!0);t.style.position="fixed";var n=e.getBoundingClientRect();return t.style.margin="0px",t.style.top=n.top+"px",t.style.left=n.left+"px",t.style.zIndex=9999,t.style.width=e.clientWidth+"px",t}function l(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function c(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function d(e,t,n){var o=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=Math.min(o.bottom,r.bottom)-Math.max(o.top,r.top),a=Math.min(o.right,r.right)-Math.max(o.left,r.left);if(i>0&&a>0){var s=i*a,u=Math.min(o.width*o.height,r.width*r.height);if(s/u>n)return t}return null}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var m=n(2),f=document.createElement("style");f.innerHTML='.drag-mask::after {\n  content: "";\n  position: absolute;\n  top:0;\n  left:0;\n  width: 100%;\n  height: 100%;\n  background-color: #c0c6ca;\n  user-select: none;\n  -webkit-user-select:none;\n  -moz-user-select: none;\n  z-index: 9999;\n  border-radius: 4px;\n}\n[drag] {\n  position: relative;\n  cursor: pointer;\n  user-select: none;\n  -webkit-user-select:none;\n  -moz-user-select: none;\n  box-sizing: border-box;\n}',document.getElementsByTagName("head")[0].appendChild(f);var h=0,p={},v=null,g=null,w=null,b=null,A={startX:0,startY:0,moveX:0,moveY:0};(0,m.on)(document,"mousedown",r),(0,m.on)(document,"mousemove",i),(0,m.on)(document,"mouseup",a),(0,m.on)(document,"mouseleave",a),o.onmove=function(e){b=e},e.exports=o},function(e,t){"use strict";var n=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},o=function(e,t){if(!e||!t)return!1;if(t.indexOf(" ")!==-1)throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},r=function(e,t){if(e){for(var n=e.className,r=(t||"").split(" "),i=0,a=r.length;i<a;i++){var s=r[i];s&&(e.classList?e.classList.add(s):o(e,s)||(n+=" "+s))}e.classList||(e.className=n)}},i=function(e,t){if(e&&t){for(var r=t.split(" "),i=" "+e.className+" ",a=0,s=r.length;a<s;a++){var u=r[a];u&&(e.classList?e.classList.remove(u):o(e,u)&&(i=i.replace(" "+u+" "," ")))}e.classList||(e.className=n(i))}},a=function(e,t){return e+":"+t},s=function(){return document.addEventListener?function(e,t,n){if(e&&t&&n)if(void 0!==e.length)for(var o=0,r=e.length;o<r;o++)e[o].addEventListener(t,n,!1);else e.addEventListener(t,n,!1)}:function(e,t,n){if(e&&t&&n)if(void 0!==e.length)for(var o=0,r=e.length;o<r;o++)e[o].attachEvent("on"+t,n);else e.attachEvent("on"+t,n)}}();e.exports={hasClass:o,addClass:r,removeClass:i,addVendor:a,on:s}}]);
//# sourceMappingURL=dragable.js.map