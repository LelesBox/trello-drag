!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.dragable=t():e.dragable=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){"use strict";function r(e,t){var n=p++;if(void 0===e.length)e.setAttribute("drag-id",n);else for(var r=0,o=e.length;r<o;r++)e[r].setAttribute("drag-id",n);return v[n]=s(e),{update:function(){v[n]=s(e)}}}function o(e){if(0===e.button&&null!==e.target.getAttribute("drag")||0===e.button&&null!==e.target.getAttribute("drag-el")){var t,n;if(null!==e.target.getAttribute("drag")){if(t=e.target.parentNode.getAttribute("drag-id"),void 0===t)return;n=e.target}else if(null!==e.target.getAttribute("drag-el")){if(t=e.target.parentNode.parentNode.getAttribute("drag-id"),void 0===t)return;n=e.target.parentNode}N.startX=e.clientX,N.startY=e.clientY,m=v[t]||function(){},setTimeout(function(){b=n,h=l(b),(0,f.addClass)(b,"drag-mask"),document.body.appendChild(h)})}}function i(e){null!==h&&(N.moveX=e.clientX,N.moveY=e.clientY,m(h,b,N),x&&x(h,N))}function a(e){h&&(document.body.contains(h)&&document.body.removeChild(h),(0,f.removeClass)(b,"drag-mask"),h=null)}function s(e){var t=[],n=[];if(void 0!==e.length)for(var r=0,o=e.length;r<o;r++){var i=e[r].children;t.push(e[r]);for(var a=0,s=i.length;a<s;a++)null!==i[a].getAttribute("drag")&&n.push(i[a])}else{t.push(e),i=e.children;for(var l=0,f=i.length;l<f;l++)null!==i[l].getAttribute("drag")&&n.push(i[l])}var g=n.length,p=t.length;return function(e,r,o){e.style.transform="translate3d("+(o.moveX-o.startX)+"px, "+(o.moveY-o.startY)+"px, 0) rotate(5deg)";for(var i,a,s=e.getBoundingClientRect(),l=g,f=p,v=d(n,r);f--;){var m=t[f];if(m!==r.parentNode&&0===m.children.length&&c(e,m.parentNode,.7))return void m.appendChild(r)}for(;l--;)if(i=n[l],i!==r)if(i.parentNode===r.parentNode){if(c(e,i,.7))return void(v<l?(i.parentNode.insertBefore(r,i.nextSibling),u(n,v,l)):v>l&&(i.parentNode.insertBefore(r,i),u(n,v,l)))}else if(c(e,i,.5))return a=i.getBoundingClientRect(),void(s.top>a.top?i.parentNode.insertBefore(r,i.nextSibling):s.bottom<a.bottom&&i.parentNode.insertBefore(r,i))}}function l(e){var t=e.cloneNode(!0);t.style.position="fixed";var n=e.getBoundingClientRect();return t.style.margin="0px",t.style.top=n.top+"px",t.style.left=n.left+"px",t.style.zIndex=9999,t.style.width=e.clientWidth+"px",t}function u(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function d(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function c(e,t,n){var r=e.getBoundingClientRect(),o=t.getBoundingClientRect(),i=Math.min(r.bottom,o.bottom)-Math.max(r.top,o.top),a=Math.min(r.right,o.right)-Math.max(r.left,o.left);if(i>0&&a>0){var s=i*a,l=Math.min(r.width*r.height,o.width*o.height);if(s/l>n)return t}return null}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var f=n(1),g=document.createElement("style");g.innerHTML='.drag-mask::after {\n  content: "";\n  position: absolute;\n  top:0;\n  left:0;\n  width: 100%;\n  height: 100%;\n  background-color: #c0c6ca;\n  user-select: none;\n  -webkit-user-select:none;\n  -moz-user-select: none;\n  z-index: 9999;\n  border-radius: 4px;\n}\n[drag] {\n  position: relative;\n  cursor: pointer;\n  user-select: none;\n  -webkit-user-select:none;\n  -moz-user-select: none;\n  box-sizing: border-box;\n}',document.getElementsByTagName("head")[0].appendChild(g);var p=0,v={},m=null,h=null,b=null,x=null,N={startX:0,startY:0,moveX:0,moveY:0};(0,f.on)(document,"mousedown",o),(0,f.on)(document,"mousemove",i),(0,f.on)(document,"mouseup",a),(0,f.on)(document,"mouseleave",a),r.onmove=function(e){x=e},e.exports=r},function(e,t){"use strict";var n=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},r=function(e,t){if(!e||!t)return!1;if(t.indexOf(" ")!==-1)throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},o=function(e,t){if(e){for(var n=e.className,o=(t||"").split(" "),i=0,a=o.length;i<a;i++){var s=o[i];s&&(e.classList?e.classList.add(s):r(e,s)||(n+=" "+s))}e.classList||(e.className=n)}},i=function(e,t){if(e&&t){for(var o=t.split(" "),i=" "+e.className+" ",a=0,s=o.length;a<s;a++){var l=o[a];l&&(e.classList?e.classList.remove(l):r(e,l)&&(i=i.replace(" "+l+" "," ")))}e.classList||(e.className=n(i))}},a=function(e,t){return e+":"+t},s=function(){return document.addEventListener?function(e,t,n){if(e&&t&&n)if(void 0!==e.length)for(var r=0,o=e.length;r<o;r++)e[r].addEventListener(t,n,!1);else e.addEventListener(t,n,!1)}:function(e,t,n){if(e&&t&&n)if(void 0!==e.length)for(var r=0,o=e.length;r<o;r++)e[r].attachEvent("on"+t,n);else e.attachEvent("on"+t,n)}}();e.exports={hasClass:r,addClass:o,removeClass:i,addVendor:a,on:s}}])});