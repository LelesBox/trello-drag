{"version":3,"sources":["webpack:///dragable.js","webpack:///webpack/bootstrap b8d567ad33815ec76e19","webpack:///./src/main.js","webpack:///./src/dragable.js","webpack:///./src/domApi.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","$","sel","document","querySelectorAll","randomColor","Math","round","random","getChildren","number","fragement","createDocumentFragment","i","el","createElement","className","setAttribute","style","backgroundColor","appendChild","Autoscroll","this","reqA","increase","run","scrollTop","offsetWidth","direction","self","handle","timestamp","offsetX","documentElement","scrollLeft","body","window","scrollTo","requestAnimationFrame","_dragable","_dragable2","_domApi","lastTime","vendors","x","length","cancelAnimationFrame","callback","element","currTime","Date","getTime","timeToCall","max","setTimeout","clearTimeout","j","l","point","startX","startY","offsetLeft","scroll","on","e","button","target","clientX","clientY","prototype","left","right","stop","co","getElementsByClassName","s","d","position","offset","clientWidth","addEventListener","blocks","parentNode","children","update","copyElm","elm","cloneNode","getBoundingClientRect","margin","top","zIndex","width","exchange","arr","idx","idx2","temp","findIndex","getOVerlayElm","source","threshold","p1","p2","overlayWidth","min","bottom","overlayHeight","overlay","minarea","height","applyDrag","container","cb","containers","elms","undefined","push","jlength","getAttribute","k","klength","clength","sourceElm","transform","moveX","moveY","a","b","targetIdx","cot","insertBefore","nextSibling","innerHTML","getElementsByTagName","updateViews","_updateView","dragId","addClass","preventDefault","contains","removeChild","removeClass","index","trim","string","replace","hasClass","cls","indexOf","Error","classList","curClass","classes","split","clsName","add","remove","addVendor","property","value","bindEvent","event","handler","attachEvent"],"mappings":"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","file":"dragable.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"./\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _dragable = __webpack_require__(1);\n\t\n\tvar _dragable2 = _interopRequireDefault(_dragable);\n\t\n\tvar _domApi = __webpack_require__(2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t(function () {\n\t  var lastTime = 0;\n\t  var vendors = ['webkit', 'moz'];\n\t  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n\t    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n\t    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || // Webkit中此取消方法的名字变了\n\t    window[vendors[x] + 'CancelRequestAnimationFrame'];\n\t  }\n\t\n\t  if (!window.requestAnimationFrame) {\n\t    window.requestAnimationFrame = function (callback, element) {\n\t      var currTime = new Date().getTime();\n\t      var timeToCall = Math.max(0, 16.7 - (currTime - lastTime));\n\t      var id = window.setTimeout(function () {\n\t        callback(currTime + timeToCall);\n\t      }, timeToCall);\n\t      lastTime = currTime + timeToCall;\n\t      return id;\n\t    };\n\t  }\n\t  if (!window.cancelAnimationFrame) {\n\t    window.cancelAnimationFrame = function (id) {\n\t      clearTimeout(id);\n\t    };\n\t  }\n\t})();\n\t\n\t\n\tfunction $(sel) {\n\t  return document.querySelectorAll(sel);\n\t}\n\tvar i = 7;\n\tvar j = 0;\n\twhile (i--) {\n\t  var l = ++j + 1;\n\t  $('.blocks')[i].appendChild(getChildren(l));\n\t}\n\tfunction randomColor() {\n\t  return 'rgba(' + Math.round(Math.random() * 255) + ', ' + Math.round(Math.random() * 255) + ', ' + Math.round(Math.random() * 255) + ', 1)';\n\t}\n\tfunction getChildren(number) {\n\t  var fragement = document.createDocumentFragment();\n\t  for (var i = 0; i < number; i++) {\n\t    var el = document.createElement('div');\n\t    el.className = 'drag';\n\t    el.setAttribute('drag', '');\n\t    el.style.backgroundColor = randomColor();\n\t    fragement.appendChild(el);\n\t  }\n\t  return fragement;\n\t}\n\t// container dragable\n\tvar point = {\n\t  startX: 0,\n\t  startY: 0,\n\t  offsetLeft: 0\n\t};\n\tvar scroll = false;\n\t(0, _domApi.on)($('.co')[0], 'mousedown', function (e) {\n\t  if (!scroll && e.button === 0 && e.target === this) {\n\t    point.startX = e.clientX;\n\t    point.startY = e.clientY;\n\t    point.offsetLeft = document.documentElement.scrollLeft || document.body.scrollLeft;\n\t    scroll = true;\n\t  }\n\t  return;\n\t});\n\t(0, _domApi.on)($('.co')[0], 'mousemove', function (e) {\n\t  if (scroll) {\n\t    var offsetX = point.startX - e.clientX;\n\t    window.scrollTo(point.offsetLeft + offsetX, document.documentElement.scrollTop || document.body.scrollTop);\n\t  }\n\t});\n\t(0, _domApi.on)($('.co')[0], 'mouseup', function (e) {\n\t  scroll = false;\n\t});\n\t(0, _domApi.on)($('.co')[0], 'mouseleave', function (e) {\n\t  scroll = false;\n\t});\n\t\n\tfunction Autoscroll() {\n\t  this.reqA = null;\n\t  this.increase = 5;\n\t  this.run = function (scrollTop, offsetWidth, direction) {\n\t    var self = this;\n\t    return function handle(timestamp) {\n\t      var offsetX = document.documentElement.scrollLeft || document.body.scrollLeft;\n\t      if (direction > 0 && offsetX + document.body.offsetWidth < offsetWidth) {\n\t        window.scrollTo(offsetX + self.increase, scrollTop);\n\t        self.reqA = window.requestAnimationFrame(handle);\n\t      } else if (direction < 0 && offsetX > 0) {\n\t        window.scrollTo(offsetX - self.increase, scrollTop);\n\t        self.reqA = window.requestAnimationFrame(handle);\n\t      } else {\n\t        self.reqA = null;\n\t      }\n\t    };\n\t  };\n\t}\n\tAutoscroll.prototype.left = function (scrollTo, offsetWidth, increase) {\n\t  if (increase) this.increase = increase;\n\t  if (!this.reqA) {\n\t    this.reqA = window.requestAnimationFrame(this.run(scrollTo, offsetWidth, -1));\n\t  }\n\t};\n\tAutoscroll.prototype.right = function (scrollTo, offsetWidth, increase) {\n\t  if (increase) this.increase = increase;\n\t  if (!this.reqA) {\n\t    this.reqA = window.requestAnimationFrame(this.run(scrollTo, offsetWidth, 1));\n\t  }\n\t};\n\tAutoscroll.prototype.stop = function () {\n\t  if (this.reqA) {\n\t    window.cancelAnimationFrame(this.reqA);\n\t    this.increase = 5;\n\t    this.reqA = null;\n\t  }\n\t};\n\t\n\tvar co = document.getElementsByClassName('co')[0];\n\tvar scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n\tvar s = new Autoscroll();\n\tvar offsetWidth = co.offsetWidth;\n\tvar d = (0, _dragable2.default)($('.blocks'), function (target, position, point) {\n\t  var offset = position.right - document.body.clientWidth;\n\t  var increase = 5;\n\t  if (offset > 0) {\n\t    if (offset > 60) {\n\t      increase = 20;\n\t    } else if (offset > 30) {\n\t      increase = 10;\n\t    }\n\t    s.right(scrollTop, offsetWidth, increase);\n\t  } else if (position.left < 0) {\n\t    if (position.left < -60) {\n\t      increase = 20;\n\t    } else if (position.left < -30) {\n\t      increase = 10;\n\t    }\n\t    s.left(scrollTop, offsetWidth, increase);\n\t  } else {\n\t    s.stop();\n\t  }\n\t});\n\t(0, _dragable2.default)($('.co'), function (target, position, point) {\n\t  if (position.right > document.body.clientWidth) {\n\t    s.right(scrollTop, offsetWidth);\n\t  } else if (position.left < 0) {\n\t    s.left(scrollTop, offsetWidth);\n\t  } else {\n\t    s.stop();\n\t  }\n\t});\n\t(0, _domApi.on)(document, 'mouseup', function () {\n\t  s.stop();\n\t});\n\t\n\t// 增加往下拖动时的检测\n\t\n\t// add new one\n\tdocument.addEventListener('click', function (e) {\n\t  if (e.target.className === 'addone') {\n\t    var blocks = e.target.parentNode.children[0];\n\t    blocks.appendChild(getChildren(1));\n\t    d.update();\n\t  }\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _domApi = __webpack_require__(2);\n\t\n\t// 生成drag-mask样式\n\tvar style = document.createElement('style');\n\tstyle.innerHTML = '.drag-mask::after {\\n  content: \"\";\\n  position: absolute;\\n  top:0;\\n  left:0;\\n  width: 100%;\\n  height: 100%;\\n  background-color: #c0c6ca;\\n  user-select: none;\\n  -webkit-user-select:none;\\n  -moz-user-select: none;\\n  z-index: 9999;\\n  border-radius: 4px;\\n}\\n[drag] {\\n  position: relative;\\n  cursor: pointer;\\n  box-sizing: border-box;\\n}';\n\tdocument.getElementsByTagName('head')[0].appendChild(style);\n\t\n\tfunction copyElm(elm) {\n\t  var el = elm.cloneNode(true);\n\t  el.style.position = 'fixed';\n\t  // var offsetX = document.documentElement.scrollLeft || document.body.scrollLeft\n\t  // var offsetY = document.documentElement.scrollTop || document.body.scrollTop\n\t  var position = elm.getBoundingClientRect();\n\t  el.style.margin = '0px';\n\t  el.style.top = position.top + 'px';\n\t  el.style.left = position.left + 'px';\n\t  el.style.zIndex = 9999;\n\t  el.style.width = elm.clientWidth + 'px';\n\t  el.setAttribute('draggable', false);\n\t  return el;\n\t}\n\t\n\tfunction exchange(arr, idx, idx2) {\n\t  var temp = arr[idx];\n\t  arr[idx] = arr[idx2];\n\t  arr[idx2] = temp;\n\t}\n\t\n\tfunction findIndex(arr, target) {\n\t  var i = arr.length;\n\t  while (i--) {\n\t    if (arr[i] === target) {\n\t      return i;\n\t    }\n\t  }\n\t  return -1;\n\t}\n\t// 成功则返回target 能不能用VDOM保存起来这些数据\n\tfunction getOVerlayElm(source, target, threshold) {\n\t  var p1 = source.getBoundingClientRect();\n\t  var p2 = target.getBoundingClientRect();\n\t  var overlayWidth = Math.min(p1.bottom, p2.bottom) - Math.max(p1.top, p2.top);\n\t  var overlayHeight = Math.min(p1.right, p2.right) - Math.max(p1.left, p2.left);\n\t  if (overlayWidth > 0 && overlayHeight > 0) {\n\t    var overlay = overlayWidth * overlayHeight;\n\t    var minarea = Math.min(p1.width * p1.height, p2.width * p2.height);\n\t    if (overlay / minarea > threshold) {\n\t      // 表示target元素被souce覆盖了！\n\t      return target;\n\t    }\n\t  }\n\t  return null;\n\t}\n\t\n\t/* **********core*********** */\n\tfunction applyDrag(container, cb) {\n\t  var containers = [];\n\t  var elms = [];\n\t  if (container.length !== undefined) {\n\t    for (var i = 0, l = container.length; i < l; i++) {\n\t      var children = container[i].children;\n\t      containers.push(container[i]);\n\t      for (var j = 0, jlength = children.length; j < jlength; j++) {\n\t        if (children[j].getAttribute('drag') !== null) {\n\t          elms.push(children[j]);\n\t        }\n\t      }\n\t    }\n\t  } else {\n\t    containers.push(container);\n\t    children = container.children;\n\t    for (var k = 0, klength = children.length; k < klength; k++) {\n\t      if (children[k].getAttribute('drag') !== null) {\n\t        elms.push(children[j]);\n\t      }\n\t    }\n\t  }\n\t  var length = elms.length;\n\t  var clength = containers.length;\n\t  return function (elm, sourceElm, point) {\n\t    elm.style.transform = 'translate3d(' + (point.moveX - point.startX) + 'px, ' + (point.moveY - point.startY) + 'px, 0) rotate(5deg)';\n\t    var a = elm.getBoundingClientRect();\n\t    cb && cb(elm, a, point);\n\t    var el;\n\t    var i = length;\n\t    var j = clength;\n\t    var b;\n\t    var targetIdx = findIndex(elms, sourceElm);\n\t    // 判断它们的容器，是否与容器重合且容器为空，如果为空则添加到空容器中\n\t    while (j--) {\n\t      var cot = containers[j];\n\t      if (cot === sourceElm.parentNode) continue;\n\t      if (cot.children.length === 0 && getOVerlayElm(elm, cot.parentNode, 0.7)) {\n\t        cot.appendChild(sourceElm);\n\t        return;\n\t      }\n\t    }\n\t    while (i--) {\n\t      el = elms[i];\n\t      if (el === sourceElm) {\n\t        continue;\n\t      }\n\t      // 覆盖面积达到百分之七十的元素\n\t      // 1.如果该元素于sourceElm属于一个父容器，则\n\t      // 1.1 如果sourceElm粗线在el之前，则 insertBefore(sourceElm, el.nextSibling)\n\t      // 1.2 如果sourceElm粗线在el之后，则 insertBefore(sourceElm, el)\n\t      // 2. 如果el与sourceElm不属于同一个父容器\n\t      // 2.1 如果a.top > b.top 则 insertBefore(sourceElm, el.nextSibling)\n\t      // 2.2 如果 a.bottom < b.bottom 则 insertBefore(sourceElm, el)\n\t      if (el.parentNode === sourceElm.parentNode) {\n\t        if (getOVerlayElm(elm, el, 0.7)) {\n\t          if (targetIdx < i) {\n\t            el.parentNode.insertBefore(sourceElm, el.nextSibling);\n\t            exchange(elms, targetIdx, i);\n\t          } else if (targetIdx > i) {\n\t            el.parentNode.insertBefore(sourceElm, el);\n\t            exchange(elms, targetIdx, i);\n\t          }\n\t          return;\n\t        }\n\t      } else if (getOVerlayElm(elm, el, 0.3)) {\n\t        b = el.getBoundingClientRect();\n\t        if (a.top > b.top) {\n\t          el.parentNode.insertBefore(sourceElm, el.nextSibling);\n\t        } else if (a.bottom < b.bottom) {\n\t          el.parentNode.insertBefore(sourceElm, el);\n\t        }\n\t        return;\n\t      }\n\t    }\n\t  };\n\t}\n\t\n\t// 给每个容器打标签\n\tvar idx = 0;\n\t// 存放各个容器下的updateView方法\n\tvar updateViews = {};\n\tvar _updateView = null;\n\t// 拖动的元素，拖动的时候其实它是source创建出来的副本\n\tvar target = null;\n\t// 选中的拖动元素\n\tvar source = null;\n\tvar point = {\n\t  startX: 0,\n\t  startY: 0,\n\t  moveX: 0,\n\t  moveY: 0\n\t};\n\t// 监听全局鼠标按下事件\n\t// 如果该元素包含drag属性，则启用drag方法\n\t(0, _domApi.on)(document, 'mousedown', function (e) {\n\t  if (e.button === 0 && e.target.getAttribute('drag') !== null) {\n\t    point.startX = e.clientX;\n\t    point.startY = e.clientY;\n\t    var dragId = e.target.parentNode.getAttribute('drag-id');\n\t    if (dragId === undefined) return;\n\t    _updateView = updateViews[dragId];\n\t    setTimeout(function () {\n\t      source = e.target;\n\t      target = copyElm(source);\n\t      (0, _domApi.addClass)(source, 'drag-mask');\n\t      document.body.appendChild(target);\n\t    });\n\t  }\n\t});\n\t(0, _domApi.on)(document, 'mousemove', function (e) {\n\t  if (target !== null) {\n\t    point.moveX = e.clientX;\n\t    point.moveY = e.clientY;\n\t    _updateView(target, source, point);\n\t    e.preventDefault();\n\t  }\n\t});\n\t\n\t(0, _domApi.on)(document, 'mouseup', function () {\n\t  if (target) {\n\t    document.body.contains(target) && document.body.removeChild(target);\n\t    (0, _domApi.removeClass)(source, 'drag-mask');\n\t    target = null;\n\t  }\n\t});\n\t\n\t(0, _domApi.on)(document, 'mouseleave', function () {\n\t  if (target) {\n\t    document.body.contains(target) && document.body.removeChild(target);\n\t    (0, _domApi.removeClass)(source, 'drag-mask');\n\t    target = null;\n\t  }\n\t});\n\t\n\tmodule.exports = function (elms, cb) {\n\t  var index = idx++;\n\t  if (elms.length === undefined) {\n\t    elms.setAttribute('drag-id', index);\n\t  } else {\n\t    for (var i = 0, l = elms.length; i < l; i++) {\n\t      elms[i].setAttribute('drag-id', index);\n\t    }\n\t  }\n\t  updateViews[index] = applyDrag(elms, cb);\n\t  return {\n\t    update: function update() {\n\t      updateViews[index] = applyDrag(elms, cb);\n\t    }\n\t  };\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar trim = function trim(string) {\n\t  return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '');\n\t};\n\t\n\tvar hasClass = function hasClass(el, cls) {\n\t  if (!el || !cls) return false;\n\t  if (cls.indexOf(' ') !== -1) throw new Error('className should not contain space.');\n\t  if (el.classList) {\n\t    return el.classList.contains(cls);\n\t  } else {\n\t    return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1;\n\t  }\n\t};\n\t\n\tvar addClass = function addClass(el, cls) {\n\t  if (!el) return;\n\t  var curClass = el.className;\n\t  var classes = (cls || '').split(' ');\n\t\n\t  for (var i = 0, j = classes.length; i < j; i++) {\n\t    var clsName = classes[i];\n\t    if (!clsName) continue;\n\t\n\t    if (el.classList) {\n\t      el.classList.add(clsName);\n\t    } else {\n\t      if (!hasClass(el, clsName)) {\n\t        curClass += ' ' + clsName;\n\t      }\n\t    }\n\t  }\n\t  if (!el.classList) {\n\t    el.className = curClass;\n\t  }\n\t};\n\t\n\tvar removeClass = function removeClass(el, cls) {\n\t  if (!el || !cls) return;\n\t  var classes = cls.split(' ');\n\t  var curClass = ' ' + el.className + ' ';\n\t\n\t  for (var i = 0, j = classes.length; i < j; i++) {\n\t    var clsName = classes[i];\n\t    if (!clsName) continue;\n\t\n\t    if (el.classList) {\n\t      el.classList.remove(clsName);\n\t    } else {\n\t      if (hasClass(el, clsName)) {\n\t        curClass = curClass.replace(' ' + clsName + ' ', ' ');\n\t      }\n\t    }\n\t  }\n\t  if (!el.classList) {\n\t    el.className = trim(curClass);\n\t  }\n\t};\n\t\n\tvar addVendor = function addVendor(property, value) {\n\t  return property + ':' + value;\n\t};\n\t\n\tvar bindEvent = function () {\n\t  if (document.addEventListener) {\n\t    return function (element, event, handler) {\n\t      if (element && event && handler) {\n\t        if (element.length !== undefined) {\n\t          for (var i = 0, l = element.length; i < l; i++) {\n\t            element[i].addEventListener(event, handler, false);\n\t          }\n\t        } else {\n\t          element.addEventListener(event, handler, false);\n\t        }\n\t      }\n\t    };\n\t  } else {\n\t    return function (element, event, handler) {\n\t      if (element && event && handler) {\n\t        if (element.length !== undefined) {\n\t          for (var i = 0, l = element.length; i < l; i++) {\n\t            element[i].attachEvent('on' + event, handler);\n\t          }\n\t        } else {\n\t          element.attachEvent('on' + event, handler);\n\t        }\n\t      }\n\t    };\n\t  }\n\t}();\n\t\n\tmodule.exports = {\n\t  hasClass: hasClass,\n\t  addClass: addClass,\n\t  removeClass: removeClass,\n\t  addVendor: addVendor,\n\t  on: bindEvent\n\t};\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** dragable.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b8d567ad33815ec76e19\n **/","(function () {\r\n  var lastTime = 0\r\n  var vendors = ['webkit', 'moz']\r\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame']\r\n    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] ||    // Webkit中此取消方法的名字变了\r\n                                      window[vendors[x] + 'CancelRequestAnimationFrame']\r\n  }\r\n\r\n  if (!window.requestAnimationFrame) {\r\n    window.requestAnimationFrame = function (callback, element) {\r\n      var currTime = new Date().getTime()\r\n      var timeToCall = Math.max(0, 16.7 - (currTime - lastTime))\r\n      var id = window.setTimeout(function () {\r\n        callback(currTime + timeToCall)\r\n      }, timeToCall)\r\n      lastTime = currTime + timeToCall\r\n      return id\r\n    }\r\n  }\r\n  if (!window.cancelAnimationFrame) {\r\n    window.cancelAnimationFrame = function (id) {\r\n      clearTimeout(id)\r\n    }\r\n  }\r\n}())\r\nimport dragable from './dragable'\r\nimport { on } from './domApi'\r\n\r\nfunction $ (sel) {\r\n  return document.querySelectorAll(sel)\r\n}\r\nvar i = 7\r\nvar j = 0\r\nwhile (i--) {\r\n  var l = ++j + 1\r\n  $('.blocks')[i].appendChild(getChildren(l))\r\n}\r\nfunction randomColor () {\r\n  return `rgba(${Math.round(Math.random() * 255)}, ${Math.round(Math.random() * 255)}, ${Math.round(Math.random() * 255)}, 1)`\r\n}\r\nfunction getChildren (number) {\r\n  var fragement = document.createDocumentFragment()\r\n  for (var i = 0; i < number; i++) {\r\n    var el = document.createElement('div')\r\n    el.className = 'drag'\r\n    el.setAttribute('drag', '')\r\n    el.style.backgroundColor = randomColor()\r\n    fragement.appendChild(el)\r\n  }\r\n  return fragement\r\n}\r\n// container dragable\r\nvar point = {\r\n  startX: 0,\r\n  startY: 0,\r\n  offsetLeft: 0\r\n}\r\nvar scroll = false\r\non($('.co')[0], 'mousedown', function (e) {\r\n  if (!scroll && e.button === 0 && e.target === this) {\r\n    point.startX = e.clientX\r\n    point.startY = e.clientY\r\n    point.offsetLeft = document.documentElement.scrollLeft || document.body.scrollLeft\r\n    scroll = true\r\n  }\r\n  return\r\n})\r\non($('.co')[0], 'mousemove', function (e) {\r\n  if (scroll) {\r\n    var offsetX = point.startX - e.clientX\r\n    window.scrollTo(point.offsetLeft + offsetX, document.documentElement.scrollTop || document.body.scrollTop)\r\n  }\r\n})\r\non($('.co')[0], 'mouseup', function (e) {\r\n  scroll = false\r\n})\r\non($('.co')[0], 'mouseleave', function (e) {\r\n  scroll = false\r\n})\r\n\r\nfunction Autoscroll () {\r\n  this.reqA = null\r\n  this.increase = 5\r\n  this.run = function (scrollTop, offsetWidth, direction) {\r\n    var self = this\r\n    return function handle (timestamp) {\r\n      var offsetX = document.documentElement.scrollLeft || document.body.scrollLeft\r\n      if (direction > 0 && offsetX + document.body.offsetWidth < offsetWidth) {\r\n        window.scrollTo(offsetX + self.increase, scrollTop)\r\n        self.reqA = window.requestAnimationFrame(handle)\r\n      } else if (direction < 0 && offsetX > 0) {\r\n        window.scrollTo(offsetX - self.increase, scrollTop)\r\n        self.reqA = window.requestAnimationFrame(handle)\r\n      } else {\r\n        self.reqA = null\r\n      }\r\n    }\r\n  }\r\n}\r\nAutoscroll.prototype.left = function (scrollTo, offsetWidth, increase) {\r\n  if (increase) this.increase = increase\r\n  if (!this.reqA) {\r\n    this.reqA = window.requestAnimationFrame(this.run(scrollTo, offsetWidth, -1))\r\n  }\r\n}\r\nAutoscroll.prototype.right = function (scrollTo, offsetWidth, increase) {\r\n  if (increase) this.increase = increase\r\n  if (!this.reqA) {\r\n    this.reqA = window.requestAnimationFrame(this.run(scrollTo, offsetWidth, 1))\r\n  }\r\n}\r\nAutoscroll.prototype.stop = function () {\r\n  if (this.reqA) {\r\n    window.cancelAnimationFrame(this.reqA)\r\n    this.increase = 5\r\n    this.reqA = null\r\n  }\r\n}\r\n\r\nvar co = document.getElementsByClassName('co')[0]\r\nvar scrollTop = document.documentElement.scrollTop || document.body.scrollTop\r\nvar s = new Autoscroll()\r\nvar offsetWidth = co.offsetWidth\r\nvar d = dragable($('.blocks'), function (target, position, point) {\r\n  var offset = position.right - document.body.clientWidth\r\n  var increase = 5\r\n  if (offset > 0) {\r\n    if (offset > 60) {\r\n      increase = 20\r\n    } else if (offset > 30) {\r\n      increase = 10\r\n    }\r\n    s.right(scrollTop, offsetWidth, increase)\r\n  } else if (position.left < 0) {\r\n    if (position.left < -60) {\r\n      increase = 20\r\n    } else if (position.left < -30) {\r\n      increase = 10\r\n    }\r\n    s.left(scrollTop, offsetWidth, increase)\r\n  } else {\r\n    s.stop()\r\n  }\r\n})\r\ndragable($('.co'), function (target, position, point) {\r\n  if (position.right > document.body.clientWidth) {\r\n    s.right(scrollTop, offsetWidth)\r\n  } else if (position.left < 0) {\r\n    s.left(scrollTop, offsetWidth)\r\n  } else {\r\n    s.stop()\r\n  }\r\n})\r\non(document, 'mouseup', function () {\r\n  s.stop()\r\n})\r\n\r\n// 增加往下拖动时的检测\r\n\r\n// add new one\r\ndocument.addEventListener('click', function (e) {\r\n  if (e.target.className === 'addone') {\r\n    var blocks = e.target.parentNode.children[0]\r\n    blocks.appendChild(getChildren(1))\r\n    d.update()\r\n  }\r\n})\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","import { on, addClass, removeClass } from './domApi'\r\n// 生成drag-mask样式\r\nvar style = document.createElement('style')\r\nstyle.innerHTML = `.drag-mask::after {\r\n  content: \"\";\r\n  position: absolute;\r\n  top:0;\r\n  left:0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #c0c6ca;\r\n  user-select: none;\r\n  -webkit-user-select:none;\r\n  -moz-user-select: none;\r\n  z-index: 9999;\r\n  border-radius: 4px;\r\n}\r\n[drag] {\r\n  position: relative;\r\n  cursor: pointer;\r\n  box-sizing: border-box;\r\n}`\r\ndocument.getElementsByTagName('head')[0].appendChild(style)\r\n\r\nfunction copyElm (elm) {\r\n  var el = elm.cloneNode(true)\r\n  el.style.position = 'fixed'\r\n  // var offsetX = document.documentElement.scrollLeft || document.body.scrollLeft\r\n  // var offsetY = document.documentElement.scrollTop || document.body.scrollTop\r\n  var position = elm.getBoundingClientRect()\r\n  el.style.margin = '0px'\r\n  el.style.top = position.top + 'px'\r\n  el.style.left = position.left + 'px'\r\n  el.style.zIndex = 9999\r\n  el.style.width = elm.clientWidth + 'px'\r\n  el.setAttribute('draggable', false)\r\n  return el\r\n}\r\n\r\nfunction exchange (arr, idx, idx2) {\r\n  var temp = arr[idx]\r\n  arr[idx] = arr[idx2]\r\n  arr[idx2] = temp\r\n}\r\n\r\nfunction findIndex (arr, target) {\r\n  var i = arr.length\r\n  while (i--) {\r\n    if (arr[i] === target) {\r\n      return i\r\n    }\r\n  }\r\n  return -1\r\n}\r\n// 成功则返回target 能不能用VDOM保存起来这些数据\r\nfunction getOVerlayElm (source, target, threshold) {\r\n  var p1 = source.getBoundingClientRect()\r\n  var p2 = target.getBoundingClientRect()\r\n  var overlayWidth = (Math.min(p1.bottom, p2.bottom) - Math.max(p1.top, p2.top))\r\n  var overlayHeight = (Math.min(p1.right, p2.right) - Math.max(p1.left, p2.left))\r\n  if (overlayWidth > 0 && overlayHeight > 0) {\r\n    var overlay = overlayWidth * overlayHeight\r\n    var minarea = Math.min(p1.width * p1.height, p2.width * p2.height)\r\n    if (overlay / minarea > threshold) {\r\n      // 表示target元素被souce覆盖了！\r\n      return target\r\n    }\r\n  }\r\n  return null\r\n}\r\n\r\n/* **********core*********** */\r\nfunction applyDrag (container, cb) {\r\n  var containers = []\r\n  var elms = []\r\n  if (container.length !== undefined) {\r\n    for (var i = 0, l = container.length; i < l; i++) {\r\n      var children = container[i].children\r\n      containers.push(container[i])\r\n      for (var j = 0, jlength = children.length; j < jlength; j++) {\r\n        if (children[j].getAttribute('drag') !== null) {\r\n          elms.push(children[j])\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    containers.push(container)\r\n    children = container.children\r\n    for (var k = 0, klength = children.length; k < klength; k++) {\r\n      if (children[k].getAttribute('drag') !== null) {\r\n        elms.push(children[j])\r\n      }\r\n    }\r\n  }\r\n  var length = elms.length\r\n  var clength = containers.length\r\n  return function (elm, sourceElm, point) {\r\n    elm.style.transform = `translate3d(${point.moveX - point.startX}px, ${point.moveY - point.startY}px, 0) rotate(5deg)`\r\n    var a = elm.getBoundingClientRect()\r\n    cb && cb(elm, a, point)\r\n    var el\r\n    var i = length\r\n    var j = clength\r\n    var b\r\n    var targetIdx = findIndex(elms, sourceElm)\r\n    // 判断它们的容器，是否与容器重合且容器为空，如果为空则添加到空容器中\r\n    while (j--) {\r\n      var cot = containers[j]\r\n      if (cot === sourceElm.parentNode) continue\r\n      if (cot.children.length === 0 && getOVerlayElm(elm, cot.parentNode, 0.7)) {\r\n        cot.appendChild(sourceElm)\r\n        return\r\n      }\r\n    }\r\n    while (i--) {\r\n      el = elms[i]\r\n      if (el === sourceElm) {\r\n        continue\r\n      }\r\n        // 覆盖面积达到百分之七十的元素\r\n        // 1.如果该元素于sourceElm属于一个父容器，则\r\n        // 1.1 如果sourceElm粗线在el之前，则 insertBefore(sourceElm, el.nextSibling)\r\n        // 1.2 如果sourceElm粗线在el之后，则 insertBefore(sourceElm, el)\r\n        // 2. 如果el与sourceElm不属于同一个父容器\r\n        // 2.1 如果a.top > b.top 则 insertBefore(sourceElm, el.nextSibling)\r\n        // 2.2 如果 a.bottom < b.bottom 则 insertBefore(sourceElm, el)\r\n      if (el.parentNode === sourceElm.parentNode) {\r\n        if (getOVerlayElm(elm, el, 0.7)) {\r\n          if (targetIdx < i) {\r\n            el.parentNode.insertBefore(sourceElm, el.nextSibling)\r\n            exchange(elms, targetIdx, i)\r\n          } else if (targetIdx > i) {\r\n            el.parentNode.insertBefore(sourceElm, el)\r\n            exchange(elms, targetIdx, i)\r\n          }\r\n          return\r\n        }\r\n      } else if (getOVerlayElm(elm, el, 0.3)) {\r\n        b = el.getBoundingClientRect()\r\n        if (a.top > b.top) {\r\n          el.parentNode.insertBefore(sourceElm, el.nextSibling)\r\n        } else if (a.bottom < b.bottom) {\r\n          el.parentNode.insertBefore(sourceElm, el)\r\n        }\r\n        return\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// 给每个容器打标签\r\nvar idx = 0\r\n// 存放各个容器下的updateView方法\r\nvar updateViews = {}\r\nvar _updateView = null\r\n// 拖动的元素，拖动的时候其实它是source创建出来的副本\r\nvar target = null\r\n// 选中的拖动元素\r\nvar source = null\r\nvar point = {\r\n  startX: 0,\r\n  startY: 0,\r\n  moveX: 0,\r\n  moveY: 0\r\n}\r\n// 监听全局鼠标按下事件\r\n// 如果该元素包含drag属性，则启用drag方法\r\non(document, 'mousedown', function (e) {\r\n  if (e.button === 0 && e.target.getAttribute('drag') !== null) {\r\n    point.startX = e.clientX\r\n    point.startY = e.clientY\r\n    var dragId = e.target.parentNode.getAttribute('drag-id')\r\n    if (dragId === undefined) return\r\n    _updateView = updateViews[dragId]\r\n    setTimeout(function () {\r\n      source = e.target\r\n      target = copyElm(source)\r\n      addClass(source, 'drag-mask')\r\n      document.body.appendChild(target)\r\n    })\r\n  }\r\n})\r\non(document, 'mousemove', function (e) {\r\n  if (target !== null) {\r\n    point.moveX = e.clientX\r\n    point.moveY = e.clientY\r\n    _updateView(target, source, point)\r\n    e.preventDefault()\r\n  }\r\n})\r\n\r\non(document, 'mouseup', function () {\r\n  if (target) {\r\n    document.body.contains(target) && document.body.removeChild(target)\r\n    removeClass(source, 'drag-mask')\r\n    target = null\r\n  }\r\n})\r\n\r\non(document, 'mouseleave', function () {\r\n  if (target) {\r\n    document.body.contains(target) && document.body.removeChild(target)\r\n    removeClass(source, 'drag-mask')\r\n    target = null\r\n  }\r\n})\r\n\r\nmodule.exports = function (elms, cb) {\r\n  var index = idx++\r\n  if (elms.length === undefined) {\r\n    elms.setAttribute('drag-id', index)\r\n  } else {\r\n    for (var i = 0, l = elms.length; i < l; i++) {\r\n      elms[i].setAttribute('drag-id', index)\r\n    }\r\n  }\r\n  updateViews[index] = applyDrag(elms, cb)\r\n  return {\r\n    update: function () {\r\n      updateViews[index] = applyDrag(elms, cb)\r\n    }\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dragable.js\n **/","var trim = function (string) {\r\n  return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '')\r\n}\r\n\r\nvar hasClass = function (el, cls) {\r\n  if (!el || !cls) return false\r\n  if (cls.indexOf(' ') !== -1) throw new Error('className should not contain space.')\r\n  if (el.classList) {\r\n    return el.classList.contains(cls)\r\n  } else {\r\n    return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1\r\n  }\r\n}\r\n\r\nvar addClass = function (el, cls) {\r\n  if (!el) return\r\n  var curClass = el.className\r\n  var classes = (cls || '').split(' ')\r\n\r\n  for (var i = 0, j = classes.length; i < j; i++) {\r\n    var clsName = classes[ i ]\r\n    if (!clsName) continue\r\n\r\n    if (el.classList) {\r\n      el.classList.add(clsName)\r\n    } else {\r\n      if (!hasClass(el, clsName)) {\r\n        curClass += ' ' + clsName\r\n      }\r\n    }\r\n  }\r\n  if (!el.classList) {\r\n    el.className = curClass\r\n  }\r\n}\r\n\r\nvar removeClass = function (el, cls) {\r\n  if (!el || !cls) return\r\n  var classes = cls.split(' ')\r\n  var curClass = ' ' + el.className + ' '\r\n\r\n  for (var i = 0, j = classes.length; i < j; i++) {\r\n    var clsName = classes[ i ]\r\n    if (!clsName) continue\r\n\r\n    if (el.classList) {\r\n      el.classList.remove(clsName)\r\n    } else {\r\n      if (hasClass(el, clsName)) {\r\n        curClass = curClass.replace(' ' + clsName + ' ', ' ')\r\n      }\r\n    }\r\n  }\r\n  if (!el.classList) {\r\n    el.className = trim(curClass)\r\n  }\r\n}\r\n\r\nvar addVendor = function (property, value) {\r\n  return property + ':' + value\r\n}\r\n\r\nvar bindEvent = (function () {\r\n  if (document.addEventListener) {\r\n    return function (element, event, handler) {\r\n      if (element && event && handler) {\r\n        if (element.length !== undefined) {\r\n          for (var i = 0, l = element.length; i < l; i++) {\r\n            element[i].addEventListener(event, handler, false)\r\n          }\r\n        } else {\r\n          element.addEventListener(event, handler, false)\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    return function (element, event, handler) {\r\n      if (element && event && handler) {\r\n        if (element.length !== undefined) {\r\n          for (var i = 0, l = element.length; i < l; i++) {\r\n            element[i].attachEvent('on' + event, handler)\r\n          }\r\n        } else {\r\n          element.attachEvent('on' + event, handler)\r\n        }\r\n      }\r\n    }\r\n  }\r\n})()\r\n\r\nmodule.exports = {\r\n  hasClass: hasClass,\r\n  addClass: addClass,\r\n  removeClass: removeClass,\r\n  addVendor,\r\n  on: bindEvent\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/domApi.js\n **/"],"sourceRoot":""}