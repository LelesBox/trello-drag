!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="./",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t){return document.querySelectorAll(t)}function a(){return"rgba("+Math.round(255*Math.random())+", "+Math.round(255*Math.random())+", "+Math.round(255*Math.random())+", 1)"}function i(t){for(var e=document.createDocumentFragment(),n=0;n<t;n++){var o=document.createElement("div");o.className="drag",o.setAttribute("drag",""),o.style.backgroundColor=a(),e.appendChild(o)}return e}for(var s=n(1),l=o(s),u=n(2),d=7,c=0;d--;){var f=++c+1;r(".blocks")[d].appendChild(i(f))}var m=(0,l["default"])(r(".blocks"));(0,l["default"])(r(".co")),document.addEventListener("click",function(t){if("addone"===t.target.className){var e=t.target.parentNode.children[0];e.appendChild(i(1)),m.update()}});var p={startX:0,startY:0,offsetLeft:0},g=!1;(0,u.on)(r(".co")[0],"mousedown",function(t){0===t.button&&t.target===this&&(p.startX=t.clientX,p.startY=t.clientY,p.offsetLeft=document.documentElement.scrollLeft||document.body.scrollLeft,g=!0)}),(0,u.on)(r(".co")[0],"mousemove",function(t){if(g){var e=p.startX-t.clientX;window.scrollTo(p.offsetLeft+e,document.documentElement.scrollTop||document.body.scrollTop)}}),(0,u.on)(r(".co")[0],"mouseup",function(t){g=!1})},function(t,e,n){"use strict";function o(t){var e=t.cloneNode(!0);e.style.position="absolute";var n=document.documentElement.scrollLeft||document.body.scrollLeft,o=document.documentElement.scrollTop||document.body.scrollTop,r=t.getBoundingClientRect();return e.style.margin="0px",e.style.top=r.top+o+"px",e.style.left=r.left+n+"px",e.style.zIndex=9999,e.style.width=t.clientWidth+"px",e}function r(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function a(t,e){for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function i(t,e,n){var o=t.getBoundingClientRect(),r=e.getBoundingClientRect(),a=Math.min(o.bottom,r.bottom)-Math.max(o.top,r.top),i=Math.min(o.right,r.right)-Math.max(o.left,r.left);if(a>0&&i>0){var s=a*i,l=Math.min(o.width*o.height,r.width*r.height);if(s/l>n)return e}return null}function s(t){var e=[],n=[];if(void 0!==t.length)for(var o=0,s=t.length;o<s;o++){var l=t[o].children;e.push(t[o]);for(var u=0,d=l.length;u<d;u++)null!==l[u].getAttribute("drag")&&n.push(l[u])}else{e.push(t),l=t.children;for(var c=0,f=l.length;c<f;c++)null!==l[c].getAttribute("drag")&&n.push(l[u])}var m=n.length,p=e.length;return function(t,o,s){t.style.transform="translate3d("+(s.moveX-s.startX)+"px, "+(s.moveY-s.startY)+"px, 0) rotate(5deg)";for(var l,u,d=t.getBoundingClientRect(),c=m,f=p,g=a(n,o);f--;){var v=e[f];if(v!==o.parentNode&&0===v.children.length&&i(t,v.parentNode,.7))return void v.appendChild(o)}for(;c--;)if(l=n[c],l!==o)if(l.parentNode===o.parentNode){if(i(t,l,.7))return void(g<c?(l.parentNode.insertBefore(o,l.nextSibling),r(n,g,c)):g>c&&(l.parentNode.insertBefore(o,l),r(n,g,c)))}else if(i(t,l,.3))return u=l.getBoundingClientRect(),void(d.top>u.top?l.parentNode.insertBefore(o,l.nextSibling):d.bottom<u.bottom&&l.parentNode.insertBefore(o,l))}}var l=n(2),u=0,d={},c=null,f=null,m=null,p={startX:0,startY:0,moveX:0,moveY:0};(0,l.on)(document,"mousedown",function(t){if(0===t.button&&null!==t.target.getAttribute("drag")){p.startX=t.clientX,p.startY=t.clientY;var e=t.target.parentNode.getAttribute("drag-id");if(void 0===e)return;c=d[e],setTimeout(function(){m=t.target,f=o(m),(0,l.addClass)(m,"drag-mask"),document.body.appendChild(f)})}}),(0,l.on)(document,"mousemove",function(t){null!==f&&(p.moveX=t.clientX,p.moveY=t.clientY,c(f,m,p))}),(0,l.on)(document,"mouseup",function(){f&&(document.body.removeChild(f),(0,l.removeClass)(m,"drag-mask"),f=null)});var g=document.createElement("style");g.innerHTML='.drag-mask::after {\n  content: "";\n  position: absolute;\n  top:0;\n  left:0;\n  width: 100%;\n  height: 100%;\n  background-color: #c0c6ca;\n  user-select: none;\n  -webkit-user-select:none;\n  -moz-user-select: none;\n  z-index: 9999;\n  border-radius: 4px;\n}\n[drag] {\n  position: relative;\n  cursor: pointer;\n  box-sizing: border-box;\n}',document.getElementsByTagName("head")[0].appendChild(g),t.exports=function(t){var e=u++;if(void 0===t.length)t.setAttribute("drag-id",e);else for(var n=0,o=t.length;n<o;n++)t[n].setAttribute("drag-id",e);return d[e]=s(t),{update:function(){d[e]=s(t)}}}},function(t,e){"use strict";var n=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},o=function(t,e){if(!t||!e)return!1;if(e.indexOf(" ")!==-1)throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1},r=function(t,e){if(t){for(var n=t.className,r=(e||"").split(" "),a=0,i=r.length;a<i;a++){var s=r[a];s&&(t.classList?t.classList.add(s):o(t,s)||(n+=" "+s))}t.classList||(t.className=n)}},a=function(t,e){if(t&&e){for(var r=e.split(" "),a=" "+t.className+" ",i=0,s=r.length;i<s;i++){var l=r[i];l&&(t.classList?t.classList.remove(l):o(t,l)&&(a=a.replace(" "+l+" "," ")))}t.classList||(t.className=n(a))}},i=function(t,e){return t+":"+e},s=function(){return document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)}}();t.exports={hasClass:o,addClass:r,removeClass:a,addVendor:i,on:s}}]);
//# sourceMappingURL=dragable.js.map